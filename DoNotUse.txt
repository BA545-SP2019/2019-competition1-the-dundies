{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Competition 1 #"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Research Question & Goal ####\n",
    "\n",
    "What are the determinants of the IPO underpricing phenomena? It is our job as a group to understand and identify the underlying determinants that factor into IPO underpricing."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Business Understanding ###\n",
    "\n",
    "According to Investopedia.com, Underpricing is the listing of an intial public offering (IPO) below its market value. When the offer price of the stock is lower than the price of the first trade, the stock is considered to be underpriced. This will only last for a short amount of time, as the demand of the stock is going to drive it back up to its value.\n",
    "\n",
    "From a company standpoint, they wish to have the intial public offering as high as possible, which in turn raises the most capital. The quantitative factors that go into an initial public offering are all financial analysis reports from the company itself. Before the IPO, the company will be analyzed by its sales, expenses, earnings, and cash flow. Furthermore, a company's earnings and expected earnings growth are the biggest factors in the IPO. Marketability in a specific industry and the general market also can drive an IPO up or down.\n",
    "\n",
    "Once the investment bankers or IPO underwriters determine the IPO price of the company's stock, the day before the stock is offered publically, the company will market the IPO to potential investors. For historical purposes, IPOs are viewed as risky investments because of the lack of historical data that is collected on them. The less liquidity that the stock/company has and predicatble IPO shares are going to be, the more likely they are going to be underprices to compensate for assumed risk. Company's also underprice their IPO to entice more investors to buy stocks to raise more capital.\n",
    "\n",
    "With all of this information about intial public offerings, is there a few determinants that can be identified as to why the phenomenon of underpricing exists? The dataset that we have been provided provide information about companies and information regarding their IPO, such as IPO Offering, IPO Characteristics, Textual Characterisitics, Sentiment Characteristics, Target Variables, Control Variables, and IPO Identifiers.\n",
    "\n",
    "The variables that have been provided are listed below:\n",
    "\n",
    " - P(IPO) - Offer Price\n",
    " - P(H) - Price Range Higher Bound\n",
    " - P(L) - Price Range Lower Bound\n",
    " - P(1Day) - First Day Trading Price\n",
    " - C1 - Days\n",
    " - C2 - Top-Tier Dummy\n",
    " - C3 - Earnings per Share\n",
    " - C4 - Prior NASDAQ 15-Day Returns\n",
    " - C5 - Outstanding Shares\n",
    " - C6 - Offering Shares\n",
    " - C7 - Sales\n",
    " - T1 - Number of Sentences\n",
    " - T2 - Number of Words\n",
    " - T3 - Number of Real Words\n",
    " - T4 - Number of Long Sentences\n",
    " - T5 - Number of Long Words\n",
    " - S1 - Number of Positive Words\n",
    " - S2 - Number of Negative Words\n",
    " - S3 - Number of Uncertain Words\n",
    " - Y1 - Pre-IPO Price Revision\n",
    " - Y2 - Post-IPO Initial Return\n",
    " - C3' - Positive EPS Dummy\n",
    " - C5' - Share Overhang\n",
    " - C6' - Up Revision\n",
    " - I1 - Ticker\n",
    " - I2 - Company Name\n",
    " - I3 - Standard Industry Classifier"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Data Understanding ##"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Importing useful packages\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "from scipy.stats import kurtosis, skew\n",
    "from sklearn import datasets\n",
    "from scipy.stats import iqr\n",
    "from sklearn import preprocessing\n",
    "\n",
    "# Read in the .xlsx datafile and converting into a DataFrame\n",
    "data = pd.read_excel(\"../2019-competition1-the-dundies/Competition1_raw_data.xlsx\",header=0,na_values=\"-\")\n",
    "df_data = pd.DataFrame(data)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "     I1                                  I2    I3  P(IPO)  P(H)  P(L)  \\\n",
      "0  AATI  ADVANCED ANALOGIC TECHNOLOGIES INC  3674    10.0   9.5   8.5   \n",
      "1  ABPI     ACCENTIA BIOPHARMACEUTICALS INC  2834     8.0  10.0   8.0   \n",
      "2  ACAD          ACADIA PHARMACEUTICALS INC  2834     7.0  14.0  12.0   \n",
      "3  ACHN       ACHILLION PHARMACEUTICALS INC  2834    11.5  16.0  14.0   \n",
      "4  ACLI     AMERICAN COMMERCIAL LINES INC.   4492    21.0  21.0  19.0   \n",
      "\n",
      "     P(1Day)     C1   C2    C3  ...            C6       C7     T1       T2  \\\n",
      "0  11.870000  122.0  1.0  3.43  ...    10600000.0   51.345  470.0  12719.0   \n",
      "1   7.250000  259.0  0.0 -1.62  ...     2400000.0   25.936  791.0  21792.0   \n",
      "2   6.700000   90.0  1.0 -1.24  ...     5000000.0    7.378  201.0   5262.0   \n",
      "3  12.390000  209.0  1.0 -0.91  ...     4500000.0    8.526  328.0   8259.0   \n",
      "4  56.599998   80.0  1.0  0.07  ...     8250000.0  632.298  572.0  14830.0   \n",
      "\n",
      "        T3     T4      T5    S1     S2     S3  \n",
      "0  11560.0  301.0   690.0  62.0  117.0  139.0  \n",
      "1  19585.0  510.0  1120.0  71.0  242.0  237.0  \n",
      "2   4785.0  128.0   325.0  61.0   33.0   60.0  \n",
      "3   7574.0  177.0   509.0  80.0   59.0  110.0  \n",
      "4  13176.0  336.0   720.0  67.0  149.0  167.0  \n",
      "\n",
      "[5 rows x 22 columns]\n"
     ]
    }
   ],
   "source": [
    "# Understanding the datatypes for the features\n",
    "print(df_data.head())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "__We will remove the column headers that have parentheses in them to underscores, as it will be easier to reference those columns.__"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "     I1                                  I2    I3  P_IPO   P_H   P_L  \\\n",
      "0  AATI  ADVANCED ANALOGIC TECHNOLOGIES INC  3674   10.0   9.5   8.5   \n",
      "1  ABPI     ACCENTIA BIOPHARMACEUTICALS INC  2834    8.0  10.0   8.0   \n",
      "2  ACAD          ACADIA PHARMACEUTICALS INC  2834    7.0  14.0  12.0   \n",
      "3  ACHN       ACHILLION PHARMACEUTICALS INC  2834   11.5  16.0  14.0   \n",
      "4  ACLI     AMERICAN COMMERCIAL LINES INC.   4492   21.0  21.0  19.0   \n",
      "\n",
      "      P_1Day     C1   C2    C3  ...            C6       C7     T1       T2  \\\n",
      "0  11.870000  122.0  1.0  3.43  ...    10600000.0   51.345  470.0  12719.0   \n",
      "1   7.250000  259.0  0.0 -1.62  ...     2400000.0   25.936  791.0  21792.0   \n",
      "2   6.700000   90.0  1.0 -1.24  ...     5000000.0    7.378  201.0   5262.0   \n",
      "3  12.390000  209.0  1.0 -0.91  ...     4500000.0    8.526  328.0   8259.0   \n",
      "4  56.599998   80.0  1.0  0.07  ...     8250000.0  632.298  572.0  14830.0   \n",
      "\n",
      "        T3     T4      T5    S1     S2     S3  \n",
      "0  11560.0  301.0   690.0  62.0  117.0  139.0  \n",
      "1  19585.0  510.0  1120.0  71.0  242.0  237.0  \n",
      "2   4785.0  128.0   325.0  61.0   33.0   60.0  \n",
      "3   7574.0  177.0   509.0  80.0   59.0  110.0  \n",
      "4  13176.0  336.0   720.0  67.0  149.0  167.0  \n",
      "\n",
      "[5 rows x 22 columns]\n"
     ]
    }
   ],
   "source": [
    "# Renaming Column Headers with '()' in it\n",
    "cols = ['I1','I2','I3','P_IPO','P_H','P_L','P_1Day','C1','C2','C3','C4','C5','C6','C7','T1','T2','T3','T4','T5','S1','S2','S3']\n",
    "\n",
    "# Define columns of 'df_data' using 'cols'\n",
    "df_data.columns = cols\n",
    "\n",
    "# Displaying the first 5 rows of dataframe 'df_data'\n",
    "# it should show 22 columns\n",
    "print(df_data.head())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "            P_IPO         P_H         P_L       P_1Day           C1  \\\n",
      "count  677.000000  672.000000  672.000000   660.000000   660.000000   \n",
      "mean    13.837666   15.481190   13.515045    25.934766   149.728788   \n",
      "std      6.053731    6.653429    5.835646    73.234948   152.817467   \n",
      "min      3.000000    0.000000    3.000000     0.000000    10.000000   \n",
      "25%     10.000000   12.500000   11.000000    11.000000    85.000000   \n",
      "50%     13.500000   15.000000   13.000000    14.845000   107.000000   \n",
      "75%     17.000000   17.000000   15.000000    20.485000   155.250000   \n",
      "max     85.000000  135.000000  108.000000  1159.200562  2087.000000   \n",
      "\n",
      "               C2           C3          C4            C5            C6  \\\n",
      "count  660.000000   646.000000  660.000000  6.760000e+02  6.760000e+02   \n",
      "mean     0.859091     1.788904    0.007282  4.935776e+07  1.241519e+07   \n",
      "std      0.348192   162.666532    0.033318  1.043764e+08  2.512855e+07   \n",
      "min      0.000000  -786.239000   -0.162352  3.693227e+06  5.250000e+05   \n",
      "25%      1.000000    -0.852500   -0.013927  1.871417e+07  5.000000e+06   \n",
      "50%      1.000000     0.010000    0.009125  2.740018e+07  7.398704e+06   \n",
      "75%      1.000000     0.470000    0.031571  4.980786e+07  1.200000e+07   \n",
      "max      1.000000  3864.500000    0.092896  2.138085e+09  4.212336e+08   \n",
      "\n",
      "                 C7           T1            T2            T3           T4  \\\n",
      "count    610.000000   681.000000    681.000000    681.000000   681.000000   \n",
      "mean     500.459962   465.634361  12758.606461  11395.844347   294.353891   \n",
      "std     1648.337634   175.741647   5449.644597   4839.670179   121.532637   \n",
      "min        0.074000   132.000000      0.000000      0.000000     0.000000   \n",
      "25%       37.245750   351.000000   9195.000000   8162.000000   213.000000   \n",
      "50%      103.833000   444.000000  12045.000000  10785.000000   279.000000   \n",
      "75%      331.138000   551.000000  15241.000000  13760.000000   354.000000   \n",
      "max    30683.000000  1750.000000  49056.000000  43952.000000  1058.000000   \n",
      "\n",
      "                 T5          S1          S2          S3  \n",
      "count    681.000000  681.000000  681.000000  681.000000  \n",
      "mean     679.220264   68.421439  120.104258  144.759178  \n",
      "std      472.914323   39.096525   84.828959   69.276285  \n",
      "min       -1.000000   -1.000000   20.000000   26.000000  \n",
      "25%      462.000000   45.000000   73.000000  100.000000  \n",
      "50%      624.000000   60.000000  100.000000  134.000000  \n",
      "75%      795.000000   85.000000  142.000000  173.000000  \n",
      "max    10277.000000  309.000000  944.000000  883.000000  \n"
     ]
    }
   ],
   "source": [
    "# Describing the Data\n",
    "print(df_data.describe())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "I1         object\n",
      "I2         object\n",
      "I3         object\n",
      "P_IPO     float64\n",
      "P_H       float64\n",
      "P_L       float64\n",
      "P_1Day    float64\n",
      "C1        float64\n",
      "C2        float64\n",
      "C3        float64\n",
      "C4        float64\n",
      "C5        float64\n",
      "C6        float64\n",
      "C7        float64\n",
      "T1        float64\n",
      "T2        float64\n",
      "T3        float64\n",
      "T4        float64\n",
      "T5        float64\n",
      "S1        float64\n",
      "S2        float64\n",
      "S3        float64\n",
      "dtype: object\n"
     ]
    }
   ],
   "source": [
    "# Defining the Data Types of the Data\n",
    "print(df_data.dtypes)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>I1</th>\n",
       "      <th>I2</th>\n",
       "      <th>I3</th>\n",
       "      <th>P_IPO</th>\n",
       "      <th>P_H</th>\n",
       "      <th>P_L</th>\n",
       "      <th>P_1Day</th>\n",
       "      <th>C1</th>\n",
       "      <th>C2</th>\n",
       "      <th>C3</th>\n",
       "      <th>...</th>\n",
       "      <th>C6</th>\n",
       "      <th>C7</th>\n",
       "      <th>T1</th>\n",
       "      <th>T2</th>\n",
       "      <th>T3</th>\n",
       "      <th>T4</th>\n",
       "      <th>T5</th>\n",
       "      <th>S1</th>\n",
       "      <th>S2</th>\n",
       "      <th>S3</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>174</th>\n",
       "      <td>DLB</td>\n",
       "      <td>Dolby Laboratories, Inc.</td>\n",
       "      <td>6794, 3861, 3663, 7819</td>\n",
       "      <td>18.0</td>\n",
       "      <td>18.0</td>\n",
       "      <td>16.0</td>\n",
       "      <td>24.299999</td>\n",
       "      <td>90.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.47</td>\n",
       "      <td>...</td>\n",
       "      <td>27500000.0</td>\n",
       "      <td>289.041</td>\n",
       "      <td>500.0</td>\n",
       "      <td>15288.0</td>\n",
       "      <td>14243.0</td>\n",
       "      <td>360.0</td>\n",
       "      <td>912.0</td>\n",
       "      <td>69.0</td>\n",
       "      <td>122.0</td>\n",
       "      <td>165.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>1 rows × 22 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "      I1                         I2                      I3  P_IPO   P_H  \\\n",
       "174  DLB  Dolby Laboratories, Inc.   6794, 3861, 3663, 7819   18.0  18.0   \n",
       "\n",
       "      P_L     P_1Day    C1   C2    C3  ...            C6       C7     T1  \\\n",
       "174  16.0  24.299999  90.0  1.0  0.47  ...    27500000.0  289.041  500.0   \n",
       "\n",
       "          T2       T3     T4     T5    S1     S2     S3  \n",
       "174  15288.0  14243.0  360.0  912.0  69.0  122.0  165.0  \n",
       "\n",
       "[1 rows x 22 columns]"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Changing column `I3` to a float for binning in the future\n",
    "df_data.I3.astype(str)\n",
    "df_data.loc[(df_data.I1 == 'UPG')]\n",
    "df_data.loc[(df_data.I1 == 'DTSI')]\n",
    "df_data.loc[(df_data.I1 == 'RLD')]\n",
    "df_data.loc[(df_data.I1 == 'DLB')]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0      3674.0\n",
       "1      2834.0\n",
       "2      2834.0\n",
       "3      2834.0\n",
       "4      4492.0\n",
       "5      7379.0\n",
       "6      2836.0\n",
       "7      2834.0\n",
       "8      7372.0\n",
       "9      3714.0\n",
       "10        NaN\n",
       "11     2854.0\n",
       "12     2835.0\n",
       "13     2834.0\n",
       "14     3845.0\n",
       "15     7389.0\n",
       "16     5047.0\n",
       "17     3568.0\n",
       "18     3661.0\n",
       "19     4512.0\n",
       "20     2834.0\n",
       "21     2911.0\n",
       "22     8099.0\n",
       "23     2834.0\n",
       "24     2836.0\n",
       "25     2834.0\n",
       "26     3674.0\n",
       "27     3674.0\n",
       "28     4931.0\n",
       "29     2834.0\n",
       "        ...  \n",
       "652    4953.0\n",
       "653    6324.0\n",
       "654    2834.0\n",
       "655    7372.0\n",
       "656    7389.0\n",
       "657    8711.0\n",
       "658    2869.0\n",
       "659    1311.0\n",
       "660    7359.0\n",
       "661    7929.0\n",
       "662    2911.0\n",
       "663    7011.0\n",
       "664    7372.0\n",
       "665    7389.0\n",
       "666    1311.0\n",
       "667    2834.0\n",
       "668    2835.0\n",
       "669    8742.0\n",
       "670    2221.0\n",
       "671    3841.0\n",
       "672    1311.0\n",
       "673    7389.0\n",
       "674    4911.0\n",
       "675    2834.0\n",
       "676    3341.0\n",
       "677    7514.0\n",
       "678    3845.0\n",
       "679    3663.0\n",
       "680    5600.0\n",
       "681    2510.0\n",
       "Name: I3, Length: 682, dtype: float64"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Imputing for column `I3` due to its multiple values for certain rows\n",
    "df_data.loc[(df_data.index[620]), 'I3']=7389\n",
    "df_data.loc[(df_data.index[499]), 'I3']=3663\n",
    "df_data.loc[(df_data.index[187]), 'I3']=3651\n",
    "df_data.loc[(df_data.index[174]), 'I3']=6794\n",
    "# Changing column `I3` to float datatype\n",
    "df_data.I3.astype(float)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Understanding Missing Values ###\n",
    "\n",
    "Upon intial investigation, there seem to be no missing values, which is great.\n",
    "\n",
    "But doing some further digging, there are missing values, but the 'for loop', it does not pick up on dashes/hyphens. To show that there are missing values in the dataset."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "I1 0\n",
      "I2 0\n",
      "I3 8\n",
      "P_IPO 5\n",
      "P_H 10\n",
      "P_L 10\n",
      "P_1Day 22\n",
      "C1 22\n",
      "C2 22\n",
      "C3 36\n",
      "C4 22\n",
      "C5 6\n",
      "C6 6\n",
      "C7 72\n",
      "T1 1\n",
      "T2 1\n",
      "T3 1\n",
      "T4 1\n",
      "T5 1\n",
      "S1 1\n",
      "S2 1\n",
      "S3 1\n"
     ]
    }
   ],
   "source": [
    "# Creating an empty list for column names\n",
    "names = []\n",
    "\n",
    "# Creating an empty list for the number of null values in each column\n",
    "values = []\n",
    "\n",
    "# Checking for Missing Values\n",
    "for col in df_data.columns:\n",
    "    names.append(col)\n",
    "    values.append(df_data[col].isnull().sum())\n",
    "    print(names[-1],values[-1])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0, 0.5, 'Count of Missing Value')"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAYIAAAExCAYAAABxpKVSAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDMuMC4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvOIA7rQAAIABJREFUeJzt3XmcXFWd/vHPQ9j3rQnRCAFkHQXUgAiIkAgDiIIOggsYEY2MGw6MIzjOwOiMPxzHUccZxQiOcRlWQRCVxbDrqIRFQALDDoFAwiZLUAg+vz/ubVO03VW3uruqq/s+79erX1X33HvP/VZVUt8659x7rmwTERH1tcJYBxAREWMriSAiouaSCCIiai6JICKi5pIIIiJqLokgIqLmkghi3JJ0sqR/GMH+n5J0ymjGNBok7Slp4VjHEfWRRBA9R9I9kp6TtOGA8hskWdI0ANtH2f7scI9j+3O23z+yaP+cpFslvW+Q8qMlzR/t40WMVBJB9Kq7gXf2L0h6JbDa2IXTlrnAewYpP7xcF9FTkgiiV32XF3+ZzgK+07iBpG9L+ufy+YaSLpD0hKTHJF0laYVy3SclPSDpKUm3SZpZlp8o6Xvl82lla2OWpPskPSLp7xuOtZqkuZIel7RA0t816b75LrC7pE0b9t8W2B44rVw+oqznKUl3SfrgUG9EGdfLB3vd5fIBZWvpCUm/kLR9w7pBX3tEoySC6FW/BNaWtK2kScChwPeabH8ssBDoAyYDnwIsaWvgI8BOttcC/hK4p0k9uwNbAzOBfyy/wAFOAKYBmwN7A4cNVYHthcBlFC2Afu8BfmL7kXJ5MXAAsDZwBPAlSa9uEtegyn2+BXwQ2AD4BnC+pFWG8dqjppIIopf1twr2Bm4FHmiy7fPAFGBT28/bvsrFRFovAKsA20layfY9tu9sUs8/2X7W9m+A3wA7lOWHAJ+z/Xj5Rf8fLWKfS5kIypbJu2noFrL9Y9t3unAFcDHw+hZ1DuYDwDds/8r2C7bnAn8AdqH91x41lUQQvey7wLuA9zKgW2gQXwDuAC4uu1qOA7B9B/Bx4ERgsaTTJb2kST0PNTxfCqxZPn8JcH/DusbngzkHmCJpF2BPYHXgx/0rJe0n6ZdlN9YTwP7AhoPW1NymwLFlt9ATZV0vA14yjNceNZVEED3L9r0Ug8b7U3yxNtv2KdvH2t4ceDNwTH9/uO3/sb07xZemgc8PI5xFwNSG5Ze1iGcpcDZFi+Zw4HTbzwFIWgX4AfBvwGTb6wI/ATREdUspEkm/jRue3w/8i+11G/5Wt31aGcdovPaY4JIIotcdCcyw/UyzjcoB05dLEvAkRbfIC5K2ljSj/PL9PfBsua5dZwLHS1pP0ksp+t5bmUsxtvFXvPhsoZUpumyWAMsk7Qfs06SeG4B3SZokaV/gDQ3rvgkcJem1Kqwh6U2S1hrF1x4TXBJB9LSyH73KufdbAj8Dngb+F/ia7cspvnBPAh6h6PbZiGIguV2foRiMvrs8ztkUffHNXAn8DnjA9jX9hbafAj5GkVwep+j+Or9JPUdTtHKeoBhr+GFDXfMpxgn+s6zrDoquNBi91x4TnHJjmoj2Sfpr4B2239By44gelxZBRAWSpkjaTdIK5WmZxwLnjnVcEaNhxbEOIGKcWJniHP3NKLpoTge+NqYRRYySdA1FRNRcuoYiImpuXHQNbbjhhp42bdpYhxERMa5ce+21j9jua7XduEgE06ZNY/78zN4bEdEOSfdW2S5dQxERNZdEEBFRc0kEERE1l0QQEVFzSQQRETWXRBARUXNJBBERNZdEEBFRc0kEERE1Ny6uLI6IqLt5l27RdP3MGXcOu+60CCIiaq5jiaC8X+oNDX9PSvq4pPUlXSLp9vJxvU7FEBERrXUsEdi+zfaOtncEXgMspbij03HAPNtbAvPK5YiIGCPd6hqaCdxp+17gQGBuWT4XOKhLMURExCC6lQjeAZxWPp9sexFA+bjRYDtImi1pvqT5S5Ys6VKYERH10/FEIGll4C3AWe3sZ3uO7em2p/f1tbyvQkREDFM3WgT7AdfZfrhcfljSFIDycXEXYoiIiCF0IxG8k+XdQgDnA7PK57OA87oQQ0REDKGjiUDS6sDewDkNxScBe0u6vVx3UidjiIiI5jp6ZbHtpcAGA8oepTiLKCIiekCuLI6IqLkkgoiImksiiIiouSSCiIiaSyKIiKi5JIKIiJpLIoiIqLkkgoiImksiiIiouSSCiIiaSyKIiKi5JIKIiJpLIoiIqLkkgoiImksiiIiouSSCiIiaSyKIiKi5JIKIiJpLIoiIqLkkgoiImutoIpC0rqSzJd0qaYGk10laX9Ilkm4vH9frZAwREdFcp1sEXwEutL0NsAOwADgOmGd7S2BeuRwREWOkY4lA0trAHsCpALafs/0EcCAwt9xsLnBQp2KIiIjWOtki2BxYAvy3pOslnSJpDWCy7UUA5eNGg+0sabak+ZLmL1mypINhRkTUWycTwYrAq4Gv234V8AxtdAPZnmN7uu3pfX19nYoxIqL2OpkIFgILbf+qXD6bIjE8LGkKQPm4uIMxRERECx1LBLYfAu6XtHVZNBO4BTgfmFWWzQLO61QMERHR2oodrv+jwPclrQzcBRxBkXzOlHQkcB/w9g7HEBERTXQ0Edi+AZg+yKqZnTxuRERUlyuLIyJqLokgIqLmkggiImquZSKQtJWkeZJuLpe3l/TpzocWERHdUKVF8E3geOB5ANs3Au/oZFAREdE9VRLB6rZ/PaBsWSeCiYiI7quSCB6RtAVgAEkHA4s6GlVERHRNlesIPgzMAbaR9ABwN3BYR6OKiIiuaZkIbN8FvLGcOXQF2091PqyIiOiWlolA0j8OWAbA9mc6FFNERHRRla6hZxqerwocQHGnsYiImACqdA19sXFZ0r9RzCAaERETwHCuLF6d4u5jERExAVQZI7iJ8tRRYBLQB2R8ICJigqgyRnBAw/NlwMO2c0FZRMQEMWQikLR++XTg6aJrS8L2Y50LKyIiuqVZi+Baii4hDbLOZJwgImJCGDIR2N6sm4FERMTYqHSrSknrAVtSXEcAgO0rOxVURER0T5Wzht4PHA1MBW4AdgH+F5jR2dAiIqIbqlxHcDSwE3Cv7b2AVwFLqlQu6R5JN0m6QdL8smx9SZdIur18XG/Y0UdExIhVSQS/t/17AEmr2L4V2LqNY+xle0fb08vl44B5trcE5pXLERExRqokgoWS1gV+CFwi6TzgwREc80Bgbvl8LnDQCOqKiIgRqjLX0FvLpydKugxYB7iwYv0GLpZk4Bu25wCTbS8q614kaaPBdpQ0G5gNsMkmm1Q8XEREtKvZBWU/Bv4H+KHtZwBsX9Fm/bvZfrD8sr9E0q1VdyyTxhyA6dOnu8XmERExTM26huZQTC9xj6QzJB0kaeV2Krf9YPm4GDgX2Bl4WNIUgPJx8bAij4iIUTFkIrB9nu13ApsA5wCzgPskfUvS3q0qlrSGpLX6nwP7ADdTTGE9q9xsFnDeyF5CRESMRJUxgmeBM4AzJG1PMcA7i2Im0mYmA+eWdzRbEfgf2xdKugY4U9KRwH3A20cQf0REjFCVC8omA4cA7wCmAGcBR7Tar7zX8Q6DlD8KzGw70oiI6Ihmg8UfAN5Jcc3AOcDf2f55twKLiIjuaNYi2BU4CfiZ7T92KZ6IiOiyZrOPtuz+iYiI8W849yyOiIgJJIkgIqLmqpw1tP4gxU/Zfr4D8URERJdVaRFcRzHt9P8Bt5fP75Z0naTXdDK4iIjovCqJ4EJgf9sb2t4A2A84E/gQ8LVOBhcREZ1XJRFMt31R/4Lti4E9bP8SWKVjkUVERFdUuWfxY5I+CZxeLh8KPC5pEpDrCyIixrkqLYJ3Udyv+IcUE8RtUpZNoph6IiIixrEqk849Anx0iNV3jG44ERHRbVVOH90K+FtgWuP2tmd0LqyIiOiWKmMEZwEnA6cAL3Q2nIiI6LYqiWCZ7a93PJKIiBgTVQaLfyTpQ5KmSFq//6/jkUVERFdUaRH031byEw1lBjYf/XAiIqLbqpw1tFk3AomIiLHR7A5lM2xfKultg623fU7nwoqIiG5p1iJ4A3Ap8OZB1pni9pURETHONbtD2Qnl44juVFZORTEfeMD2AZI2o5iuYn2KmU0Pt/3cSI4RERHD1/KsIUlHS1pbhVPK6af3aeMYRwMLGpY/D3zJ9pbA48CR7YUcERGjqcrpo++z/SSwD7ARcATFTe1bkjQVeBPFxWhIEjADOLvcZC5wUJsxR0TEKKqSCFQ+7g/8t+3fNJS18mXg71g+S+kGwBO2l5XLC4GXDnpQabak+ZLmL1mypOLhIiKiXVUSwbWSLqZIBBdJWosK009LOgBYbPvaxuJBNvVg+9ueY3u67el9fX0VwoyIiOGockHZkcCOwF22l5ZXFVcZQN4NeIuk/YFVgbUpWgjrSlqxbBVMBR4cXugRETEaqrQIXgfcZvsJSYcBnwZ+12on28fbnmp7GvAO4FLb7wYuAw4uN5tFcY+DiIgYI1USwdeBpZJ2oOjvvxf4zgiO+UngGEl3UIwZnDqCuiIiYoSqzj5qSQcCX7F9qqRZLfdqYPty4PLy+V3Azu0GGhERnVElETwl6XjgMGCP8gKxlTobVkREdEuVrqFDgT8AR9p+iOJ0zy90NKqIiOiaKrOPPgT8e8PyfYxsjCAiInpIs9lHr7a9u6SnePG5/gJse+2ORxcRER3XbNK53cvHtboXTkREdFuzFkHT21Hafmz0w4mImHhOPPHEUdmmU5qNETxCMRdQ/7xAjdND5FaVERETRLNE8FVgT+DnwGnA1bYHnRcoIiLGryFPH7V9NMUcQ2cBhwPXS/rX8sYyERExQTS9jsCFyyimljiZYrK5N3YjsIiI6I5mg8VrAAdSXFDWR3GP4lfbvr9LsUVERBc0GyNYDNxOMT5wB8UA8U6SdgKwnZvXR0RMAM0SwVkUX/7blH+NTNFCiIiIca7ZBWXv7WIcERExRqpMOhcRERNYEkFERM0NmQgkvb18zHUDERETWLMWwfHl4w+6EUhERIyNZmcNPSrpMmAzSecPXGn7LZ0LKyIiuqVZIngT8Grgu8AX261Y0qrAlcAq5XHOtn1C2dV0OrA+cB1wuO3n2q0/IiJGR7PTR58DfilpV9tLJK1VFPvpinX/AZhh+2lJKwFXS/opcAzwJdunSzoZOBL4+ghfR0REDFOVs4YmS7oeuBm4RdK1kl7RaqdynqL+pLFS+WdgBnB2WT4XOKj9sCMiYrRUSQRzgGNsb2p7E+DYsqwlSZMk3UAxXcUlwJ3AE7b773GwEHjpEPvOljRf0vwlS5ZUOVxERAxDlUSwRjkDKQC2LwfWqFK57Rds7whMBXYGth1ssyH2nWN7uu3pfX19VQ4XERHD0GywuN9dkv6BYtAY4DDg7nYOYvsJSZcDuwDrSlqxbBVMBR5sp66IiBhdVVoE72P5NNTnABtS3JegKUl9ktYtn69GcR+DBcBlwMHlZrOA89oPOyIiRkvLFoHtx4GPDaPuKcBcSZMoEs6Zti+QdAtwuqR/Bq4HTh1G3RERMUqqdA0Ni+0bgVcNUn4XxXhBRET0gEw6FxFRcy0TgaTdqpRFRMT4VKVF8NWKZRERMQ41u3n964BdgT5JxzSsWhuY1OnAIiKiO5oNFq8MrFlus1ZD+ZMsP/0zIiLGuWaTzl0BXCHp27bv7WJMERHRRVVOH11F0hxgWuP2tmd0KqiIiOieKongLOBk4BTghc6GExER3VYlESyznfsFRERMUFVOH/2RpA9JmiJp/f6/jkcWERFdUaVFMKt8/ERDmYHNRz+ciIjotiqTzm3WjUAiImJstEwEkt4zWLnt74x+OBER0W1VuoZ2ani+KjATuA5IIoiImACqdA19tHFZ0josv1tZRESMc8OZhnopsOVoBxIREWOjyhjBj1h+g/lJFDegP7OTQUVERPdUGSP4t4bny4B7bS/sUDwRMUEs2Gbblttse+uCpuv/66hLm67/8MmtZ7r54qEHNF1/7BkXtKxj4XFXNV0/9aTXt6yjl7XsGionn7uVYgbS9YDnOh1URER0T5U7lB0C/Bp4O3AI8CtJmYY6ImKCqNI19PfATrYXA0jqA34GnN1sJ0kvozjFdGPgj8Ac218pp6c4g2I203uAQ2w/PtwXEBERI1PlrKEV+pNA6dGK+y0DjrW9LbAL8GFJ2wHHAfNsbwnMK5cjImKMVGkRXCjpIuC0cvlQ4KetdrK9CFhUPn9K0gLgpcCBwJ7lZnOBy4FPthV1RESMmioXlH1C0tuA3QFRdPGc285BJE0DXgX8CphcJglsL5K00RD7zAZmA2yyySbtHC4iItowZBePpJdL2g3A9jm2j7H9N8CjkraoegBJawI/AD5u+8mq+9meY3u67el9fX1Vd4uIiDY16+v/MvDUIOVLy3UtSVqJIgl83/Y5ZfHDkqaU66cAi4faPyIiOq9ZIphm+8aBhbbnU5zx05QkAacCC2z/e8Oq81l+j4NZwHmVo42IiFHXbIxg1SbrVqtQ927A4cBNkm4oyz4FnAScKelI4D6K6xMiImKMNEsE10j6gO1vNhaWX+DXtqrY9tUUg8uDmVk9xIiI6KRmieDjwLmS3s3yL/7pwMrAWzsdWEREdMeQicD2w8CukvYCXlEW/9h281mgIiJiXKlyHcFlwGVdiCUiIsbAcG5MExERE0gSQUREzSURRETUXBJBRETNJRFERNRcEkFERM0lEURE1FwSQUREzSURRETUXBJBRETNJRFERNRcEkFERM0lEURE1FwSQUREzSURRETUXBJBRETNJRFERNRcxxKBpG9JWizp5oay9SVdIun28nG9Th0/IiKq6WSL4NvAvgPKjgPm2d4SmFcuR0TEGOpYIrB9JfDYgOIDgbnl87nAQZ06fkREVNPy5vWjbLLtRQC2F0naaKgNJc0GZgNssskmXQovYoI4cZ0W63/XsopXzn1l0/U3zbqpnYiih/XsYLHtOban257e19c31uFERExY3U4ED0uaAlA+Lu7y8SMiYoBuJ4LzgVnl81nAeV0+fkREDNDJ00dPA/4X2FrSQklHAicBe0u6Hdi7XI6IiDHUscFi2+8cYtXMTh0zIiLa1+2zhiKihWnH/bjlNvec9KYuRBJ10bNnDUVERHckEURE1FwSQUREzSURRETUXAaLIxpsfNkNTdc/tNeOTddnoDfGo7QIIiJqLokgIqLm0jUUE8a8S7doun7mjDu7FEnE+JIWQUREzSURRETUXBJBRETNJRFERNRcEkFERM0lEURE1FwSQUREzSURRETUXBJBRETNJRFERNRcEkFERM2NyVxDkvYFvgJMAk6xfVI7+7ea6rfSNL8nrtNi/e+arn7l3Fe2PMRNs25qun7BNtu2rGPbWxc0Xf9fR13adP2HT57R8hhfPPSApuuPPeOCpusXHndVy2NMPen1TdefeOKJLeuosk1EtK/rLQJJk4D/AvYDtgPeKWm7bscRERGFsega2hm4w/Zdtp8DTgcOHIM4IiICkO3uHlA6GNjX9vvL5cOB19r+yIDtZgOzy8WtgduaVLsh8MgIQ+uFOnohhl6poxdi6JU6eiGGXqmjF2LolTqq7L+p7b5WFY3FGIEGKfuzbGR7DjCnUoXSfNvTRxRUD9TRCzH0Sh29EEOv1NELMfRKHb0QQ6/UMRox9BuLrqGFwMsalqcCD45BHBERwdgkgmuALSVtJmll4B3A+WMQR0REMAZdQ7aXSfoIcBHF6aPfsv3bEVZbqQtpHNTRCzH0Sh29EEOv1NELMfRKHb0QQ6/UMRoxAGMwWBwREb0lVxZHRNRcEkFERM0lEURE1FwSwSiQtLukYyTtM4I6vjOMfXaWtFP5fLsyhv3brGMbSTMlrTmgfN924xmk7iNGWscIjr2mpDXG6vi9TNLHxzqG6C3jbrBY0urARyguQvsqxemnbwNuBT5j++kR1j/H9uwW2/za9s7l8w8AHwbOBfYBftRqEj1JA0+XFbAXcCmA7bdUiPMEivmaVgQuAV4LXA68EbjI9r9UqONjZewLgB2Bo22fV667zvarW9XRov77bG9SYbtJwPsprim50PbPG9Z92vY/t3HMDwHHAWtQvK9PAZ+3/bUW+20CLLb9e0kC3gu8GrgF+KbtZVVjaKhzM+BVwC22b21jv40BbD8kqQ94PXDbKJxd119/y89F0lcZ5ELPfrY/VuE4awN9tu8cUL697RurxjtE3XvbvqSN7X8AfAv4qe0/jvDYn7P9qTb3GdFnKuktwMW2f992wFXqH4eJ4EzgfmA1iqknFgBnAm8GNrZ9eIU61h9qFfAb21Nb7H+97VeVz68B9re9pPwF+kvbTacmlXQdxRfMKRT/2QScRpHUsH1FhddwE8WX9yrAQ8BU209KWg34le3tK9bxOttPS5oGnA181/ZXGl9jizqG+g8tYCvbq1So4xRgdeDXwOHAFbaPKddVTkiSPg3sCnzE9l1l2eYUM93+qllCkXQzsLPtpZI+D2wB/BCYAWD7fRWO/0PbB5XPDwS+TJGcdwX+n+1vV6jjgxSJTMDnKRLSb4HdgH+1fWqrOioc437bL2uxzayGxX8CTmhcb3tui/0PoXj9i4GVgPfavqZc17UfGQ3bvxE4AtgFOAv4dpXkLOk/BhZR/Bv9DlROiCP+TCU9CzwD/JTiu+Ii2y+02q8y2+PqD7ihfBTFF6Aalm+sWMcLwF3A3Q1//cvPVdj/N8B6wAbA/AHrrq+w/wrA31D8kt+xLLtrOO/DYMdsXNeijlsGLK8JXAj8ext1PEyRkDYd8DcNeLBiHTc2PF+R4vzocyiSXMv3s2Hf24BVBylfDfi/qu8FcC2wQuPnXfH41zc8/wWwWfl8wzbquIkiKW4APE3x44by31ulz6TCMe5rc/vKn0Hjv0FgSvl8Z4oW+9vaqY/iQtPB/n4EPDPM174OcBTFj8lfUCSHlZpsvxD4HvAeYFb5t6T/ebc+U+D6cvsPAPPK/3cnA28YjX8TY3I/gtFg25J+4vJdKperNm/uAmbavm/gCkn3V9h/Q4ovCwGWtLGLJt+aDD6X0kAr2P6SpLOAL0l6mPYv7lsmaXXbS4HXNMS/DlC16fuQpB1t3wDgomVwAEUTuvUNFwoXAGv219FI0uUV61i5/4mLLpjZZdfXpRTJqTIP0nS2/aykVu/J/ZJm2L4UuIdiGpR7JW3QzuEbnq9o++7y+I9UOH6/58vPdKmkO20/VNbxeBv/vpH0FIN37YgiMbZjON0GK9peBGD715L2Ai6QNLWN+l4PHEbx5dlIFMmlLeVneRjFL/rrge8Du1N8qe85xG7bAp8F9gU+YfsBSSe4RYtogGWj8Jna9uPAN4Fvll1NhwAnSZrqFi28KrWPqz+K7pQ1BynfAri6Yh0fBnYYYt1Hq2TnIcpXp/wV2GL/6wYsvwn4XJvvwy1DlG8IvLJiHXcAk4dYt1vFOq6rsl2LOr5HMSPtwPL3U3wxVq1nHkWCH1g+A7isxb4vAy4DrqT4xfk4RSK6frA6h6jjBeBJinGJ51j+y29lqrdW51P+QqXo7usvX5WKrYo23/v1OvEZU/za3mJA2VrAz4A/VKzjp8BeQ6y7ss14zqHojj2esqXS+J5X2P815b+PvwXuafPYI/5Mh/rOKddtOtJ/B+NxjGAn4H6XWVXSe4C/Au4D/sl2y2ldm9RxL3Ci7cda7D+iPs6q/e+djKHH6tgJWOjyF2S7n0dDPX8BnAdcTdFiM7ATRV/sgW4yMCfp5cDGwKPAVhQttIUU3VMPeMCA5xB1bEmRWK8eUL4HxS+6lrdyKwetF9l+fkD5S4Ftbf+sVR3tGOrzG9CiWB1Y2r+K4rWs3aLenSi66a4aUL4HsIcrnABQvp8bueHkgbL89RTdji0/k4Z9+lt7bSn/XUy2/fPyJIIPAa8DvlE1hqE+/7J8S1cbI5gN/HY03otB6x+HieA64I22HyvfyNOBj1L0U29r++BO1yFpIUU/+qBsD7luNPafgHWM+DNtqGtV4F3AX1B8af0W+L5bnG0h6QLgUx5wNouk6cAJtt9c4dgjrqPbRvqjRNJ6LrosBpb33Psp6RUUd0Vctb/MdtPTtnvldXT639Z4HCOY1PAL8VBgju0fAD+Q9Gf91B2qYxJF33WV8YBO7D/h6hiFz7TfvsD6FKfaXdTGftMG/icDsD2/PKOqK3W06Ntv+Ut8GEb6S3AexWm2A/XE+9mvHHPakyIR/ITi1OurKc/+6XAMvVLHkMZlIpC0ootBxZksv4sZVH89I61jke3PVDxWJ/afaHWMxmeKpK9RtAR+AXxW0s62P1tx91WbrKs6uDriOmyvVfFYvWKoHwA98X42OBjYgaKv/QhJkynGG7sRQ6/UMaTxeGXxacAVks4DngWugj/15f2uS3WM5NfvaOw/0eoYjc8UYA9ghu3jKX79HdTGvteouDjwRSQdSTHe0K06um2kn99QLYpeez+fdXEh2TIVF7otBjbvUgy9UseQxt0YAYCkXYApFM3/Z8qyrSjOJrqu03VIWr/qAGYn9p9odZT1jMZn+qKBz3YGsstfiOdSnO3T/x9rOsUZP2/tP7Gg03WMlnKs5Cjg5RTnsZ/qQa6OHoV/y0MNNvfU+1m2Fj9FcdHmsRSnpN5gu+k0KL3yOjr9b2tcJoKIwUhaSnFKLBS/dLcol/v716tcbb0X8Ipy8bfDPNNkxHWMlKQzgOcpWlf7AffaProDx2k62NyL72fZp772YH3unYyhV+oYtN4kgpgoJG3abL3te7sVy1iTdJPLqU4krQj8umrrqNynKy2Kbihf/37ANmXRAoo5rdqeP2qiGo+DxRGDqtMXfQV/ug7Bxe1h291/Li9uUWwH/FmLYhwkgZdQXAi2iOLiQAEHAF+UtJftB8cyvl6RFkFMGGNw6mXPkvQCxSRlwJ+mlVhK9QvCRtSi6BWSvk0xFvDlAeUfA15je9agO9ZMWgQxYVQ99XKoi6AmEtuTRljFSFsUvWIX2+8dWGj7PyTdNgbx9KQkgqijoS6CiuV2kPRk+VzAauXyeGtdPdtk3dIm62oliSDqaNz+vO2WUWhR9Iqz8XODAAAC8ElEQVR1JL1tkHIB4yWZdVwSQdRRBsbq4wqKm1YN5spuBtLLkggiYsJqdcFYFMbjFBMRI5WuoUBSkkQpp4/GhDGRLoKKzlOb9z2eyJIIYsLo1rQKMX5IGmoaCQFb2V6lm/H0qiSCmDAmykVQMXpU3A/8LyluPfqiVcAvbL+k+1H1ngwWx0QyUS6CitFzAcUMtn92gyNJl3c/nN6UFkFMGCOdViHqqw5XmzeTRBARtdfOvSsmopw+GhFR81OKkwgiImp+tXkSQUREzSURRETUvGsog8URMWHlavNqkggiYsLK1ebVJBFExISVq82ryRhBRExkL7rafCwD6WVpEUTEhJWrzatJIoiIqLl0DUVE1FwSQUREzSURRC1JekHSDQ1/04ZRx7qSPjT60UV0V8YIopYkPW17zRHWMQ24wPYr2txvku0XRnLsiNGUFkFESdIkSV+QdI2kGyV9sCxfU9I8SddJuknSgeUuJwFblC2KL0jaU9IFDfX9p6T3ls/vkfSPkq4G3i5pC0kXSrpW0lWStun2643olzuURV2tJqn/rlV3234rcCTwO9s7SVoF+Lmki4H7gbfaflLShsAvJZ0PHAe8wvaOAJL2bHHM39vevdx2HnCU7dslvRb4GjBjtF9kRBVJBFFXz/Z/gTfYB9he0sHl8jrAlsBC4HOS9gD+CLwUmDyMY54BRQsD2BU4q+F2mrmJeoyZJIKI5QR81PZFLyosunf6gNfYfl7SPcCqg+y/jBd3tw7cpv/CphWAJwZJRBFjImMEEctdBPy1pJUAJG0laQ2KlsHiMgnsBWxabv8UsFbD/vcC20laRdI6wMzBDmL7SeBuSW8vjyNJO3TmJUW0lkQQsdwpwC3AdZJuBr5B0Wr+PjBd0nzg3cCtALYfpRhHuFnSF2zfD5wJ3Fjuc32TY70bOFLSb4DfAgc22Taio3L6aEREzaVFEBFRc0kEERE1l0QQEVFzSQQRETWXRBARUXNJBBERNZdEEBFRc/8fyOvB1WnIqQIAAAAASUVORK5CYII=\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Creating a graph to visulize missing values\n",
    "missing_values = df_data.isnull().sum()\n",
    "missing_values = missing_values[missing_values > 0]\n",
    "missing_values.sort_values(inplace=True)\n",
    "missing_values.plot.bar()\n",
    "\n",
    "# Adding peripherials to graph\n",
    "plt.title('Missing Values')\n",
    "plt.xlabel('Feature')\n",
    "plt.ylabel('Count of Missing Value')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "##### More Missing Values ####\n",
    "\n",
    "There are only two columns `I1` and `I2` that do not have any \"hyphens\" or missing values."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The issue that we have now is how to deal with these missing values.\n",
    "\n",
    "It is unique to see that columns `T1` through `S3` all have 1 missing value. Is it safe to assume that the individual missing values from those columns all belong to one record? Possibly. We will have to identify that one record if that is the case."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Imputing Missing Values ####\n",
    "\n",
    "We are going to start by imputing values 1 column at a time, as not all the columns will call for the same imputation.\n",
    "\n",
    "We will begin with column `I3`, as we can find the SIC code online through multiple websites for cross-checking and validation."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>I1</th>\n",
       "      <th>I2</th>\n",
       "      <th>I3</th>\n",
       "      <th>P_IPO</th>\n",
       "      <th>P_H</th>\n",
       "      <th>P_L</th>\n",
       "      <th>P_1Day</th>\n",
       "      <th>C1</th>\n",
       "      <th>C2</th>\n",
       "      <th>C3</th>\n",
       "      <th>...</th>\n",
       "      <th>C6</th>\n",
       "      <th>C7</th>\n",
       "      <th>T1</th>\n",
       "      <th>T2</th>\n",
       "      <th>T3</th>\n",
       "      <th>T4</th>\n",
       "      <th>T5</th>\n",
       "      <th>S1</th>\n",
       "      <th>S2</th>\n",
       "      <th>S3</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>ADKU</td>\n",
       "      <td>ADCARE HEALTH SYSTEMS, INC</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>332.0</td>\n",
       "      <td>7534.0</td>\n",
       "      <td>6747.0</td>\n",
       "      <td>169.0</td>\n",
       "      <td>263.0</td>\n",
       "      <td>51.0</td>\n",
       "      <td>65.0</td>\n",
       "      <td>74.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>86</th>\n",
       "      <td>BLT</td>\n",
       "      <td>BLOUNT INTERNATIONAL INC</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>538.0</td>\n",
       "      <td>12732.0</td>\n",
       "      <td>11126.0</td>\n",
       "      <td>301.0</td>\n",
       "      <td>631.0</td>\n",
       "      <td>94.0</td>\n",
       "      <td>172.0</td>\n",
       "      <td>116.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>268</th>\n",
       "      <td>GSL</td>\n",
       "      <td>GLOBAL SIGNAL INC</td>\n",
       "      <td>NaN</td>\n",
       "      <td>18.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>7000000.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>631.0</td>\n",
       "      <td>19479.0</td>\n",
       "      <td>17409.0</td>\n",
       "      <td>451.0</td>\n",
       "      <td>976.0</td>\n",
       "      <td>71.0</td>\n",
       "      <td>252.0</td>\n",
       "      <td>155.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>330</th>\n",
       "      <td>KFI</td>\n",
       "      <td>KKR Financial Holdings LLC</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>246.0</td>\n",
       "      <td>527.0</td>\n",
       "      <td>9046.0</td>\n",
       "      <td>355.0</td>\n",
       "      <td>10277.0</td>\n",
       "      <td>64.0</td>\n",
       "      <td>48.0</td>\n",
       "      <td>123.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>400</th>\n",
       "      <td>NAUH</td>\n",
       "      <td>National American University Holdings, Inc.</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>290.0</td>\n",
       "      <td>8454.0</td>\n",
       "      <td>7137.0</td>\n",
       "      <td>192.0</td>\n",
       "      <td>384.0</td>\n",
       "      <td>45.0</td>\n",
       "      <td>68.0</td>\n",
       "      <td>139.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>490</th>\n",
       "      <td>RCH</td>\n",
       "      <td>CHINA CGAME, INC.</td>\n",
       "      <td>NaN</td>\n",
       "      <td>3.5</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>737000.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>322.0</td>\n",
       "      <td>9820.0</td>\n",
       "      <td>8893.0</td>\n",
       "      <td>230.0</td>\n",
       "      <td>410.0</td>\n",
       "      <td>61.0</td>\n",
       "      <td>92.0</td>\n",
       "      <td>91.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>597</th>\n",
       "      <td>TRMM</td>\n",
       "      <td>Access to Money, Inc.</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>494.0</td>\n",
       "      <td>12004.0</td>\n",
       "      <td>10226.0</td>\n",
       "      <td>277.0</td>\n",
       "      <td>560.0</td>\n",
       "      <td>46.0</td>\n",
       "      <td>100.0</td>\n",
       "      <td>91.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>614</th>\n",
       "      <td>TZOO</td>\n",
       "      <td>TRAVELZOO INC</td>\n",
       "      <td>NaN</td>\n",
       "      <td>3.5</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>146.0</td>\n",
       "      <td>3600.0</td>\n",
       "      <td>3189.0</td>\n",
       "      <td>88.0</td>\n",
       "      <td>181.0</td>\n",
       "      <td>5.0</td>\n",
       "      <td>26.0</td>\n",
       "      <td>38.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>8 rows × 22 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       I1                                           I2   I3  P_IPO  P_H  P_L  \\\n",
       "10   ADKU                   ADCARE HEALTH SYSTEMS, INC  NaN    NaN  NaN  NaN   \n",
       "86    BLT                     BLOUNT INTERNATIONAL INC  NaN    NaN  NaN  NaN   \n",
       "268   GSL                            GLOBAL SIGNAL INC  NaN   18.0  NaN  NaN   \n",
       "330   KFI                   KKR Financial Holdings LLC  NaN    NaN  NaN  NaN   \n",
       "400  NAUH  National American University Holdings, Inc.  NaN    NaN  NaN  NaN   \n",
       "490   RCH                            CHINA CGAME, INC.  NaN    3.5  NaN  NaN   \n",
       "597  TRMM                       Access to Money, Inc.   NaN    NaN  NaN  NaN   \n",
       "614  TZOO                                TRAVELZOO INC  NaN    3.5  NaN  NaN   \n",
       "\n",
       "     P_1Day  C1  C2  C3  ...           C6  C7     T1       T2       T3     T4  \\\n",
       "10      NaN NaN NaN NaN  ...          NaN NaN  332.0   7534.0   6747.0  169.0   \n",
       "86      NaN NaN NaN NaN  ...          NaN NaN  538.0  12732.0  11126.0  301.0   \n",
       "268     NaN NaN NaN NaN  ...    7000000.0 NaN  631.0  19479.0  17409.0  451.0   \n",
       "330     NaN NaN NaN NaN  ...          NaN NaN  246.0    527.0   9046.0  355.0   \n",
       "400     NaN NaN NaN NaN  ...          NaN NaN  290.0   8454.0   7137.0  192.0   \n",
       "490     NaN NaN NaN NaN  ...     737000.0 NaN  322.0   9820.0   8893.0  230.0   \n",
       "597     NaN NaN NaN NaN  ...          NaN NaN  494.0  12004.0  10226.0  277.0   \n",
       "614     NaN NaN NaN NaN  ...          NaN NaN  146.0   3600.0   3189.0   88.0   \n",
       "\n",
       "          T5    S1     S2     S3  \n",
       "10     263.0  51.0   65.0   74.0  \n",
       "86     631.0  94.0  172.0  116.0  \n",
       "268    976.0  71.0  252.0  155.0  \n",
       "330  10277.0  64.0   48.0  123.0  \n",
       "400    384.0  45.0   68.0  139.0  \n",
       "490    410.0  61.0   92.0   91.0  \n",
       "597    560.0  46.0  100.0   91.0  \n",
       "614    181.0   5.0   26.0   38.0  \n",
       "\n",
       "[8 rows x 22 columns]"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Identifying the row that has the missing values for Column 'I3'\n",
    "df_data[df_data['I3'].isnull()]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Imputation for SIC Codes for Column 'I3'\n",
    "df_data.loc[df_data.index[10], 'I3']=8748\n",
    "df_data.loc[df_data.index[86], 'I3']=5251\n",
    "df_data.loc[df_data.index[268], 'I3']=6282\n",
    "df_data.loc[df_data.index[330], 'I3']=7389\n",
    "df_data.loc[df_data.index[400], 'I3']=6211\n",
    "df_data.loc[df_data.index[490], 'I3']=7372\n",
    "df_data.loc[df_data.index[597], 'I3']=6099\n",
    "df_data.loc[df_data.index[614], 'I3']=4724\n",
    "\n",
    "# Redisplaying Column 'I3' checking for missing values after imputing\n",
    "df_data[df_data['I3'].isnull()]\n",
    "\n",
    "# Making the datatype of column `I3` str\n",
    "df_data['I3'].astype(str);"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>I1</th>\n",
       "      <th>I2</th>\n",
       "      <th>I3</th>\n",
       "      <th>P_IPO</th>\n",
       "      <th>P_H</th>\n",
       "      <th>P_L</th>\n",
       "      <th>P_1Day</th>\n",
       "      <th>C1</th>\n",
       "      <th>C2</th>\n",
       "      <th>C3</th>\n",
       "      <th>...</th>\n",
       "      <th>C6</th>\n",
       "      <th>C7</th>\n",
       "      <th>T1</th>\n",
       "      <th>T2</th>\n",
       "      <th>T3</th>\n",
       "      <th>T4</th>\n",
       "      <th>T5</th>\n",
       "      <th>S1</th>\n",
       "      <th>S2</th>\n",
       "      <th>S3</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>0 rows × 22 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "Empty DataFrame\n",
       "Columns: [I1, I2, I3, P_IPO, P_H, P_L, P_1Day, C1, C2, C3, C4, C5, C6, C7, T1, T2, T3, T4, T5, S1, S2, S3]\n",
       "Index: []\n",
       "\n",
       "[0 rows x 22 columns]"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Imputation for IPO final offering price for 'P_IPO'\n",
    "df_data.loc[df_data.index[10], 'P_IPO']=9.5\n",
    "df_data.loc[df_data.index[86], 'P_IPO']=16.5\n",
    "df_data.loc[df_data.index[330], 'P_IPO']=24.0\n",
    "df_data.loc[df_data.index[400], 'P_IPO']=8.0\n",
    "df_data.loc[df_data.index[597], 'P_IPO']=11.0\n",
    "\n",
    "df_data[df_data['P_IPO'].isnull()]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Imputation for `C7` Sales\n",
    "## We are using the `Mean` for imputing the sales values for column `C7`\n",
    "df_data['C7'].fillna(df_data['C7'].mean(), inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Imputing for `P_H` and `P_L`\n",
    "df_data['P_H'].fillna(df_data['P_H'].mean(), inplace=True)\n",
    "df_data['P_L'].fillna(df_data['P_L'].mean(), inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Imputing for `P_1Day`\n",
    "## We are using the 'Median' for imputing the P_1Day missing values, as the mean is higher than the median, indicating skewness\n",
    "df_data['P_1Day'].fillna(df_data['P_1Day'].median(), inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Imputing for `C1` through `C4`\n",
    "## We are imputing for column `C1` using the median\n",
    "df_data['C1'].fillna(df_data['C1'].median(), inplace=True)\n",
    "\n",
    "## We are imputing for column `C2` using the mode\n",
    "df_data['C2'].fillna(df_data['C2'].mode()[0], inplace=True)\n",
    "\n",
    "## We are imputing for column `C3` using the mean\n",
    "df_data['C3'].fillna(df_data['C3'].mean(), inplace=True)\n",
    "\n",
    "## We are imputing for column `C4` using the mean\n",
    "df_data['C4'].fillna(df_data['C4'].mean(), inplace=True)\n",
    "\n",
    "## We are imputing for column `C5` using the mean\n",
    "df_data['C5'].fillna(df_data['C5'].mean(), inplace=True)\n",
    "\n",
    "## We are imputing for column `C6` using the median\n",
    "df_data['C6'].fillna(df_data['C6'].median(), inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>I1</th>\n",
       "      <th>I2</th>\n",
       "      <th>I3</th>\n",
       "      <th>P_IPO</th>\n",
       "      <th>P_H</th>\n",
       "      <th>P_L</th>\n",
       "      <th>P_1Day</th>\n",
       "      <th>C1</th>\n",
       "      <th>C2</th>\n",
       "      <th>C3</th>\n",
       "      <th>...</th>\n",
       "      <th>C6</th>\n",
       "      <th>C7</th>\n",
       "      <th>T1</th>\n",
       "      <th>T2</th>\n",
       "      <th>T3</th>\n",
       "      <th>T4</th>\n",
       "      <th>T5</th>\n",
       "      <th>S1</th>\n",
       "      <th>S2</th>\n",
       "      <th>S3</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>0 rows × 22 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "Empty DataFrame\n",
       "Columns: [I1, I2, I3, P_IPO, P_H, P_L, P_1Day, C1, C2, C3, C4, C5, C6, C7, T1, T2, T3, T4, T5, S1, S2, S3]\n",
       "Index: []\n",
       "\n",
       "[0 rows x 22 columns]"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Imputation for columns `T1` through `S3`\n",
    "## There is only 1 row that has these missing values in these columns\n",
    "### EURX EURAND N.V.\n",
    "df_data.loc[df_data['T1'].isnull()]\n",
    "\n",
    "# Imputing the values for this row would be the most accurate if we find the data from the year of EURX's IPO (2007)\n",
    "## We will impute the values using the Mean of the columns with missing values\n",
    "df_data['T1'].fillna(df_data['T1'].mean(), inplace=True)\n",
    "df_data['T2'].fillna(df_data['T2'].mean(), inplace=True)\n",
    "df_data['T3'].fillna(df_data['T3'].mean(), inplace=True)\n",
    "df_data['T4'].fillna(df_data['T4'].mean(), inplace=True)\n",
    "df_data['T5'].fillna(df_data['T5'].mean(), inplace=True)\n",
    "df_data['S1'].fillna(df_data['S1'].mean(), inplace=True)\n",
    "df_data['S2'].fillna(df_data['S2'].mean(), inplace=True)\n",
    "df_data['S3'].fillna(df_data['S3'].mean(), inplace=True)\n",
    "\n",
    "# Re-checking to make sure that there is no row with any missing values in column `T1`\n",
    "df_data.loc[df_data['T1'].isnull()]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>I1</th>\n",
       "      <th>I2</th>\n",
       "      <th>I3</th>\n",
       "      <th>P_IPO</th>\n",
       "      <th>P_H</th>\n",
       "      <th>P_L</th>\n",
       "      <th>P_1Day</th>\n",
       "      <th>C1</th>\n",
       "      <th>C2</th>\n",
       "      <th>C3</th>\n",
       "      <th>...</th>\n",
       "      <th>C6</th>\n",
       "      <th>C7</th>\n",
       "      <th>T1</th>\n",
       "      <th>T2</th>\n",
       "      <th>T3</th>\n",
       "      <th>T4</th>\n",
       "      <th>T5</th>\n",
       "      <th>S1</th>\n",
       "      <th>S2</th>\n",
       "      <th>S3</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>134</th>\n",
       "      <td>COGT</td>\n",
       "      <td>Cogent, inc.</td>\n",
       "      <td>7373</td>\n",
       "      <td>12.0</td>\n",
       "      <td>12.0</td>\n",
       "      <td>10.0</td>\n",
       "      <td>17.98</td>\n",
       "      <td>133.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.14</td>\n",
       "      <td>...</td>\n",
       "      <td>18000000.0</td>\n",
       "      <td>32.179</td>\n",
       "      <td>419.0</td>\n",
       "      <td>10764.0</td>\n",
       "      <td>9856.0</td>\n",
       "      <td>259.0</td>\n",
       "      <td>643.0</td>\n",
       "      <td>-1.0</td>\n",
       "      <td>97.0</td>\n",
       "      <td>134.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>1 rows × 22 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       I1            I2    I3  P_IPO   P_H   P_L  P_1Day     C1   C2    C3  \\\n",
       "134  COGT  Cogent, inc.  7373   12.0  12.0  10.0   17.98  133.0  1.0  0.14   \n",
       "\n",
       "     ...            C6      C7     T1       T2      T3     T4     T5   S1  \\\n",
       "134  ...    18000000.0  32.179  419.0  10764.0  9856.0  259.0  643.0 -1.0   \n",
       "\n",
       "       S2     S3  \n",
       "134  97.0  134.0  \n",
       "\n",
       "[1 rows x 22 columns]"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking columns to see if they have values of 0 or less than 0\n",
    "df_data.loc[df_data['T3']<=0]\n",
    "df_data.loc[df_data['T4']<=0]\n",
    "df_data.loc[df_data['T5']<=0]\n",
    "df_data.loc[df_data['S1']<=0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Fixing vales that are '0' and 'negatives' as they will generate RunTimeErrors in the logtransformations\n",
    "df_data['T3']=df_data.loc[(df_data['T3']<=0)] = df_data['T3'].median()\n",
    "df_data['T4']=df_data.loc[(df_data['T4']<=0)] = df_data['T4'].median()\n",
    "df_data['T5']=df_data.loc[(df_data['T5']<=0)] = df_data['T5'].median()\n",
    "df_data['S1']=df_data.loc[(df_data['S1']<=0)] = df_data['S1'].median()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [],
   "source": [
    "### Create new columns for T and S dividing with T1 and T2\n",
    "df_data[\"C3'\"]=np.where(df_data['C3']>0,1,0)\n",
    "df_data[\"C5'\"]=(df_data['C5']/df_data['C6'])\n",
    "df_data[\"C6'\"]=np.where(df_data['P_IPO']>((df_data['P_H']+df_data['P_L'])/2), (df_data['P_IPO']-(((df_data['P_H']+df_data['P_L'])/2))/((df_data['P_H']+df_data['P_L'])/2))*100,0)\n",
    "df_data[\"T3'\"]=df_data['T3']/df_data['T2']\n",
    "df_data[\"T4'\"]=df_data['T4']/df_data['T1']\n",
    "df_data[\"T5'\"]=df_data['T5']/df_data['T2']\n",
    "df_data[\"S1'\"]=df_data['S1']/df_data['T2']\n",
    "df_data[\"S2'\"]=df_data['S2']/df_data['T2']\n",
    "df_data[\"S3'\"]=df_data['S3']/df_data['T2']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "### Adding Target Variables\n",
    "df_data['Y1']=np.where(df_data['P_IPO']<((df_data['P_H']+df_data['P_L'])/2),1,0)\n",
    "df_data['Y2']=np.where(df_data['P_IPO']<df_data['P_1Day'],1,0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Dropping columns that are no longer needed\n",
    "df_data = df_data.drop(['C3','C5','C6'], axis=1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "     I1                                  I2      I3  P_IPO   P_H   P_L  \\\n",
      "0  AATI  ADVANCED ANALOGIC TECHNOLOGIES INC  3674.0   10.0   9.5   8.5   \n",
      "1  ABPI     ACCENTIA BIOPHARMACEUTICALS INC  2834.0    8.0  10.0   8.0   \n",
      "2  ACAD          ACADIA PHARMACEUTICALS INC  2834.0    7.0  14.0  12.0   \n",
      "3  ACHN       ACHILLION PHARMACEUTICALS INC  2834.0   11.5  16.0  14.0   \n",
      "4  ACLI     AMERICAN COMMERCIAL LINES INC.   4492.0   21.0  21.0  19.0   \n",
      "\n",
      "      P_1Day     C1   C2        C4 ...        C5'     C6'       T3'       T4'  \\\n",
      "0  11.870000  122.0  1.0  0.029074 ...   3.864345   900.0  0.848259  0.594681   \n",
      "1   7.250000  259.0  0.0 -0.013352 ...  12.028832     0.0  0.495090  0.353350   \n",
      "2   6.700000   90.0  1.0  0.020715 ...   3.369134     0.0  2.050361  1.390547   \n",
      "3  12.390000  209.0  1.0  0.020023 ...   3.299697     0.0  1.306332  0.852134   \n",
      "4  56.599998   80.0  1.0 -0.034895 ...   3.726269  2000.0  0.727512  0.488636   \n",
      "\n",
      "        T5'       S1'       S2'       S3'  Y1  Y2  \n",
      "0  0.049100  0.004717  0.009199  0.010929   0   1  \n",
      "1  0.028657  0.002753  0.011105  0.010876   1   0  \n",
      "2  0.118681  0.011403  0.006271  0.011403   1   0  \n",
      "3  0.075614  0.007265  0.007144  0.013319   1   1  \n",
      "4  0.042111  0.004046  0.010047  0.011261   0   1  \n",
      "\n",
      "[5 rows x 30 columns]\n"
     ]
    }
   ],
   "source": [
    "print(df_data.head())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>I1</th>\n",
       "      <th>I2</th>\n",
       "      <th>I3</th>\n",
       "      <th>P_IPO</th>\n",
       "      <th>P_H</th>\n",
       "      <th>P_L</th>\n",
       "      <th>P_1Day</th>\n",
       "      <th>C1</th>\n",
       "      <th>C2</th>\n",
       "      <th>C4</th>\n",
       "      <th>...</th>\n",
       "      <th>C5'</th>\n",
       "      <th>C6'</th>\n",
       "      <th>T3'</th>\n",
       "      <th>T4'</th>\n",
       "      <th>T5'</th>\n",
       "      <th>S1'</th>\n",
       "      <th>S2'</th>\n",
       "      <th>S3'</th>\n",
       "      <th>Y1</th>\n",
       "      <th>Y2</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>AATI</td>\n",
       "      <td>ADVANCED ANALOGIC TECHNOLOGIES INC</td>\n",
       "      <td>3674.0</td>\n",
       "      <td>10.0</td>\n",
       "      <td>9.5</td>\n",
       "      <td>8.5</td>\n",
       "      <td>11.870000</td>\n",
       "      <td>122.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.029074</td>\n",
       "      <td>...</td>\n",
       "      <td>3.864345</td>\n",
       "      <td>900.0</td>\n",
       "      <td>0.848259</td>\n",
       "      <td>0.594681</td>\n",
       "      <td>0.049100</td>\n",
       "      <td>0.004717</td>\n",
       "      <td>0.009199</td>\n",
       "      <td>0.010929</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>ABPI</td>\n",
       "      <td>ACCENTIA BIOPHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>8.0</td>\n",
       "      <td>10.0</td>\n",
       "      <td>8.0</td>\n",
       "      <td>7.250000</td>\n",
       "      <td>259.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-0.013352</td>\n",
       "      <td>...</td>\n",
       "      <td>12.028832</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.495090</td>\n",
       "      <td>0.353350</td>\n",
       "      <td>0.028657</td>\n",
       "      <td>0.002753</td>\n",
       "      <td>0.011105</td>\n",
       "      <td>0.010876</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>ACAD</td>\n",
       "      <td>ACADIA PHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>12.0</td>\n",
       "      <td>6.700000</td>\n",
       "      <td>90.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.020715</td>\n",
       "      <td>...</td>\n",
       "      <td>3.369134</td>\n",
       "      <td>0.0</td>\n",
       "      <td>2.050361</td>\n",
       "      <td>1.390547</td>\n",
       "      <td>0.118681</td>\n",
       "      <td>0.011403</td>\n",
       "      <td>0.006271</td>\n",
       "      <td>0.011403</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>ACHN</td>\n",
       "      <td>ACHILLION PHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>11.5</td>\n",
       "      <td>16.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>12.390000</td>\n",
       "      <td>209.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.020023</td>\n",
       "      <td>...</td>\n",
       "      <td>3.299697</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.306332</td>\n",
       "      <td>0.852134</td>\n",
       "      <td>0.075614</td>\n",
       "      <td>0.007265</td>\n",
       "      <td>0.007144</td>\n",
       "      <td>0.013319</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>ACLI</td>\n",
       "      <td>AMERICAN COMMERCIAL LINES INC.</td>\n",
       "      <td>4492.0</td>\n",
       "      <td>21.0</td>\n",
       "      <td>21.0</td>\n",
       "      <td>19.0</td>\n",
       "      <td>56.599998</td>\n",
       "      <td>80.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>-0.034895</td>\n",
       "      <td>...</td>\n",
       "      <td>3.726269</td>\n",
       "      <td>2000.0</td>\n",
       "      <td>0.727512</td>\n",
       "      <td>0.488636</td>\n",
       "      <td>0.042111</td>\n",
       "      <td>0.004046</td>\n",
       "      <td>0.010047</td>\n",
       "      <td>0.011261</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 22 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     I1                                  I2      I3  P_IPO   P_H   P_L  \\\n",
       "0  AATI  ADVANCED ANALOGIC TECHNOLOGIES INC  3674.0   10.0   9.5   8.5   \n",
       "1  ABPI     ACCENTIA BIOPHARMACEUTICALS INC  2834.0    8.0  10.0   8.0   \n",
       "2  ACAD          ACADIA PHARMACEUTICALS INC  2834.0    7.0  14.0  12.0   \n",
       "3  ACHN       ACHILLION PHARMACEUTICALS INC  2834.0   11.5  16.0  14.0   \n",
       "4  ACLI     AMERICAN COMMERCIAL LINES INC.   4492.0   21.0  21.0  19.0   \n",
       "\n",
       "      P_1Day     C1   C2        C4 ...        C5'     C6'       T3'       T4'  \\\n",
       "0  11.870000  122.0  1.0  0.029074 ...   3.864345   900.0  0.848259  0.594681   \n",
       "1   7.250000  259.0  0.0 -0.013352 ...  12.028832     0.0  0.495090  0.353350   \n",
       "2   6.700000   90.0  1.0  0.020715 ...   3.369134     0.0  2.050361  1.390547   \n",
       "3  12.390000  209.0  1.0  0.020023 ...   3.299697     0.0  1.306332  0.852134   \n",
       "4  56.599998   80.0  1.0 -0.034895 ...   3.726269  2000.0  0.727512  0.488636   \n",
       "\n",
       "        T5'       S1'       S2'       S3'  Y1  Y2  \n",
       "0  0.049100  0.004717  0.009199  0.010929   0   1  \n",
       "1  0.028657  0.002753  0.011105  0.010876   1   0  \n",
       "2  0.118681  0.011403  0.006271  0.011403   1   0  \n",
       "3  0.075614  0.007265  0.007144  0.013319   1   1  \n",
       "4  0.042111  0.004046  0.010047  0.011261   0   1  \n",
       "\n",
       "[5 rows x 22 columns]"
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Dropping columns that have been used to create \"prime\" columns\n",
    "df_data = df_data.drop(['T1','T2','T3','T4','T5','S1','S2','S3'],axis=1)\n",
    "df_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "I1 0\n",
      "I2 0\n",
      "I3 0\n",
      "P_IPO 0\n",
      "P_H 0\n",
      "P_L 0\n",
      "P_1Day 0\n",
      "C1 0\n",
      "C2 0\n",
      "C4 0\n",
      "C7 0\n",
      "C3' 0\n",
      "C5' 0\n",
      "C6' 0\n",
      "T3' 0\n",
      "T4' 0\n",
      "T5' 0\n",
      "S1' 0\n",
      "S2' 0\n",
      "S3' 0\n",
      "Y1 0\n",
      "Y2 0\n"
     ]
    }
   ],
   "source": [
    "# Re-checking imputations were correctly filling in missing values\n",
    "for col in df_data.columns:\n",
    "    names.append(col)\n",
    "    values.append(df_data[col].isnull().sum())\n",
    "    print(names[-1],values[-1])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "__All of our missing values have been filled in using the appropriate methods for imputing their values. We most likely have changed the way that we impute the data based on our results from our model, to see if altering the way that we impute would affect the results.__"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Handling Skew ##"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I3        18.286216\n",
       "P_IPO      3.372736\n",
       "P_H        9.283332\n",
       "P_L        7.159347\n",
       "P_1Day    12.522598\n",
       "C1         5.747573\n",
       "C2        -2.123926\n",
       "C4        -0.485756\n",
       "C7        12.382952\n",
       "C3'       -0.117764\n",
       "C5'       10.624377\n",
       "C6'        1.149979\n",
       "T3'             NaN\n",
       "T4'        1.490300\n",
       "T5'             NaN\n",
       "S1'             NaN\n",
       "S2'             NaN\n",
       "S3'             NaN\n",
       "Y1        -0.041155\n",
       "Y2        -0.879384\n",
       "dtype: float64"
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df_data.skew()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Normalising ##"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We understand that data is not going to be normally distributed. We must identify what distribution each feature/attribute has, and figure out a method to normally distribute that data to move on with our model.\n",
    "\n",
    "We will create histograms for all data that has a `float64` data-type."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Creating a 'for loop' to display each of the columns in a histogram\n",
    "# would be the most efficient way to display the distribution of the features\n",
    "\n",
    "## Creating a new variable `new_cols` to store all the features we would like\n",
    "## to display with histograms\n",
    "new_cols = ['C1','C4',\"C5'\",\"C6'\",'C7',\"T3'\",\"T4'\",\"T5'\",\"S1'\",\"S2'\",\"S3'\"]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "skew :  [ 5.73492446 -0.48468728 10.60099565  1.14744784 12.35570026         nan\n",
      "  1.4870202          nan         nan         nan         nan]\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/opt/tljh/user/lib/python3.6/site-packages/scipy/stats/stats.py:943: RuntimeWarning: invalid value encountered in subtract\n",
      "  a_zero_mean = a - np.expand_dims(np.mean(a, axis), axis)\n"
     ]
    }
   ],
   "source": [
    "# Printing Skewn Value for Each Feature\n",
    "## new_cols = ['P_IPO','P_H','P_L','P_1Day','C1','C3','C4','C5','C6','C7','T1','T2','T3','T4','T5','S1','S2','S3']\n",
    "print(\"skew : \",skew(df_data[new_cols]))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The values that have `nan` for skewness"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [],
   "source": [
    "def log_transform(feature):\n",
    "    df_data[feature] = np.log1p(df_data[feature].values) # does a log transform on x+1\n",
    "log_transform('C1')\n",
    "log_transform('C4')\n",
    "log_transform(\"C5'\")\n",
    "log_transform(\"C6'\")\n",
    "log_transform('C7')\n",
    "log_transform(\"T3'\")\n",
    "log_transform(\"T4'\")\n",
    "log_transform(\"T5'\")\n",
    "log_transform(\"S1'\")\n",
    "log_transform(\"S2'\")\n",
    "log_transform(\"S3'\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [
    {
     "ename": "ValueError",
     "evalue": "range parameter must be finite.",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-32-9e5300602051>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0;31m# Re-plotting the distributions of the attributes\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 2\u001b[0;31m \u001b[0mplt\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mhist\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdf_data\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"T3'\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m",
      "\u001b[0;32m/opt/tljh/user/lib/python3.6/site-packages/matplotlib/pyplot.py\u001b[0m in \u001b[0;36mhist\u001b[0;34m(x, bins, range, density, weights, cumulative, bottom, histtype, align, orientation, rwidth, log, color, label, stacked, normed, data, **kwargs)\u001b[0m\n\u001b[1;32m   2659\u001b[0m         \u001b[0malign\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0malign\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0morientation\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0morientation\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mrwidth\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mrwidth\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mlog\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mlog\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   2660\u001b[0m         \u001b[0mcolor\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mcolor\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mlabel\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mlabel\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mstacked\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mstacked\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mnormed\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mnormed\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 2661\u001b[0;31m         **({\"data\": data} if data is not None else {}), **kwargs)\n\u001b[0m\u001b[1;32m   2662\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   2663\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/tljh/user/lib/python3.6/site-packages/matplotlib/__init__.py\u001b[0m in \u001b[0;36minner\u001b[0;34m(ax, data, *args, **kwargs)\u001b[0m\n\u001b[1;32m   1808\u001b[0m                         \u001b[0;34m\"the Matplotlib list!)\"\u001b[0m \u001b[0;34m%\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0mlabel_namer\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mfunc\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m__name__\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1809\u001b[0m                         RuntimeWarning, stacklevel=2)\n\u001b[0;32m-> 1810\u001b[0;31m             \u001b[0;32mreturn\u001b[0m \u001b[0mfunc\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0max\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m*\u001b[0m\u001b[0margs\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   1811\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1812\u001b[0m         inner.__doc__ = _add_data_doc(inner.__doc__,\n",
      "\u001b[0;32m/opt/tljh/user/lib/python3.6/site-packages/matplotlib/axes/_axes.py\u001b[0m in \u001b[0;36mhist\u001b[0;34m(self, x, bins, range, density, weights, cumulative, bottom, histtype, align, orientation, rwidth, log, color, label, stacked, normed, **kwargs)\u001b[0m\n\u001b[1;32m   6589\u001b[0m             \u001b[0;31m# this will automatically overwrite bins,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   6590\u001b[0m             \u001b[0;31m# so that each histogram uses the same bins\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 6591\u001b[0;31m             \u001b[0mm\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mbins\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mhistogram\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mx\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mi\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mbins\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mweights\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mw\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mi\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mhist_kwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   6592\u001b[0m             \u001b[0mm\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mm\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mastype\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfloat\u001b[0m\u001b[0;34m)\u001b[0m  \u001b[0;31m# causes problems later if it's an int\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   6593\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mmlast\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/tljh/user/lib/python3.6/site-packages/numpy/lib/function_base.py\u001b[0m in \u001b[0;36mhistogram\u001b[0;34m(a, bins, range, normed, weights, density)\u001b[0m\n\u001b[1;32m    668\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mall\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0misfinite\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mfirst_edge\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mlast_edge\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    669\u001b[0m         raise ValueError(\n\u001b[0;32m--> 670\u001b[0;31m             'range parameter must be finite.')\n\u001b[0m\u001b[1;32m    671\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0mfirst_edge\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0mlast_edge\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    672\u001b[0m         \u001b[0mfirst_edge\u001b[0m \u001b[0;34m-=\u001b[0m \u001b[0;36m0.5\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mValueError\u001b[0m: range parameter must be finite."
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Re-plotting the distributions of the attributes\n",
    "plt.hist(df_data[\"T3'\"])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Z-Score with Outliers ##"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "## "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "     I1                                  I2      I3     P_IPO       P_H  \\\n",
      "0  AATI  ADVANCED ANALOGIC TECHNOLOGIES INC  3674.0  2.397895  2.351375   \n",
      "1  ABPI     ACCENTIA BIOPHARMACEUTICALS INC  2834.0  2.197225  2.397895   \n",
      "2  ACAD          ACADIA PHARMACEUTICALS INC  2834.0  2.079442  2.708050   \n",
      "3  ACHN       ACHILLION PHARMACEUTICALS INC  2834.0  2.525729  2.833213   \n",
      "4  ACLI     AMERICAN COMMERCIAL LINES INC.   4492.0  3.091042  3.091042   \n",
      "\n",
      "        P_L    P_1Day        C1   C2        C4 ...       C5'       C6'  \\\n",
      "0  2.251292  2.554899  4.812184  1.0  0.028660 ...  1.581932  6.803505   \n",
      "1  2.197225  2.110213  5.035328  0.0 -0.013442 ...  1.782453  0.000000   \n",
      "2  2.564949  2.041220  4.510860  1.0  0.020503 ...  1.474565  0.000000   \n",
      "3  2.708050  2.594508  5.347108  1.0  0.019825 ...  1.458545  0.000000   \n",
      "4  2.995732  4.053523  4.394449  1.0 -0.035518 ...  1.553136  7.601402   \n",
      "\n",
      "        T3'       T4'       T5'       S1'       S2'       S3'  Y1  Y2  \n",
      "0  0.614244  0.466674  0.047932  0.004706  0.009157  0.010869   0   1  \n",
      "1  0.402186  0.302583  0.028254  0.002750  0.011044  0.010817   1   0  \n",
      "2  0.776228  0.585412  0.065705  0.006504  0.006252  0.011338   1   0  \n",
      "3  0.835659  0.616339  0.072892  0.007239  0.007118  0.013231   1   1  \n",
      "4  0.546682  0.397861  0.041248  0.004038  0.009997  0.011198   0   1  \n",
      "\n",
      "[5 rows x 22 columns]\n"
     ]
    }
   ],
   "source": [
    "# Rechecking the dataframe\n",
    "print(df_data.head())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Binning ##"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [],
   "source": [
    "## Importing Image from the PIL package\n",
    "from PIL import Image\n",
    "\n",
    "## Creating a variable for the image that we want to import\n",
    "myImage = Image.open(\"Capture.PNG\")\n",
    "## Showing image\n",
    "myImage.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        2\n",
       "I2        2\n",
       "I3        2\n",
       "P_IPO     2\n",
       "P_H       2\n",
       "P_L       2\n",
       "P_1Day    2\n",
       "C1        2\n",
       "C2        2\n",
       "C4        2\n",
       "C7        2\n",
       "C3'       2\n",
       "C5'       2\n",
       "C6'       2\n",
       "T3'       2\n",
       "T4'       2\n",
       "T5'       2\n",
       "S1'       2\n",
       "S2'       2\n",
       "S3'       2\n",
       "Y1        2\n",
       "Y2        2\n",
       "dtype: int64"
      ]
     },
     "execution_count": 42,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes that are less than 999\n",
    "SIC1 = df_data.loc[(df_data.I3 < 999)]\n",
    "SIC1.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        31\n",
       "I2        31\n",
       "I3        31\n",
       "P_IPO     31\n",
       "P_H       31\n",
       "P_L       31\n",
       "P_1Day    31\n",
       "C1        31\n",
       "C2        31\n",
       "C4        31\n",
       "C7        31\n",
       "C3'       31\n",
       "C5'       31\n",
       "C6'       31\n",
       "T3'       31\n",
       "T4'       31\n",
       "T5'       31\n",
       "S1'       31\n",
       "S2'       31\n",
       "S3'       31\n",
       "Y1        31\n",
       "Y2        31\n",
       "dtype: int64"
      ]
     },
     "execution_count": 43,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes are between 1000 & 1499\n",
    "SIC2 = df_data.loc[(df_data.I3 >= 1000) & (df_data.I3 <= 1499)]\n",
    "SIC2.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        2\n",
       "I2        2\n",
       "I3        2\n",
       "P_IPO     2\n",
       "P_H       2\n",
       "P_L       2\n",
       "P_1Day    2\n",
       "C1        2\n",
       "C2        2\n",
       "C4        2\n",
       "C7        2\n",
       "C3'       2\n",
       "C5'       2\n",
       "C6'       2\n",
       "T3'       2\n",
       "T4'       2\n",
       "T5'       2\n",
       "S1'       2\n",
       "S2'       2\n",
       "S3'       2\n",
       "Y1        2\n",
       "Y2        2\n",
       "dtype: int64"
      ]
     },
     "execution_count": 44,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes are between 1500 & 1799\n",
    "SIC3 = df_data.loc[(df_data.I3 >= 1500) & (df_data.I3 <= 1799)]\n",
    "SIC3.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        0\n",
       "I2        0\n",
       "I3        0\n",
       "P_IPO     0\n",
       "P_H       0\n",
       "P_L       0\n",
       "P_1Day    0\n",
       "C1        0\n",
       "C2        0\n",
       "C4        0\n",
       "C7        0\n",
       "C3'       0\n",
       "C5'       0\n",
       "C6'       0\n",
       "T3'       0\n",
       "T4'       0\n",
       "T5'       0\n",
       "S1'       0\n",
       "S2'       0\n",
       "S3'       0\n",
       "Y1        0\n",
       "Y2        0\n",
       "dtype: int64"
      ]
     },
     "execution_count": 45,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes are between 1800 & 1999\n",
    "SIC4 = df_data.loc[(df_data.I3 >= 1800) & (df_data.I3 <= 1999)]\n",
    "SIC4.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        309\n",
       "I2        309\n",
       "I3        309\n",
       "P_IPO     309\n",
       "P_H       309\n",
       "P_L       309\n",
       "P_1Day    309\n",
       "C1        309\n",
       "C2        309\n",
       "C4        309\n",
       "C7        309\n",
       "C3'       309\n",
       "C5'       309\n",
       "C6'       309\n",
       "T3'       309\n",
       "T4'       309\n",
       "T5'       309\n",
       "S1'       309\n",
       "S2'       309\n",
       "S3'       309\n",
       "Y1        309\n",
       "Y2        309\n",
       "dtype: int64"
      ]
     },
     "execution_count": 46,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes are between 2000 & 3999\n",
    "SIC5 = df_data.loc[(df_data.I3 >= 2000) & (df_data.I3 <= 3999)]\n",
    "SIC5.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        60\n",
       "I2        60\n",
       "I3        60\n",
       "P_IPO     60\n",
       "P_H       60\n",
       "P_L       60\n",
       "P_1Day    60\n",
       "C1        60\n",
       "C2        60\n",
       "C4        60\n",
       "C7        60\n",
       "C3'       60\n",
       "C5'       60\n",
       "C6'       60\n",
       "T3'       60\n",
       "T4'       60\n",
       "T5'       60\n",
       "S1'       60\n",
       "S2'       60\n",
       "S3'       60\n",
       "Y1        60\n",
       "Y2        60\n",
       "dtype: int64"
      ]
     },
     "execution_count": 47,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes are between 4000 & 4999\n",
    "SIC6 = df_data.loc[(df_data.I3 >= 4000) & (df_data.I3 <= 4999)]\n",
    "SIC6.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        13\n",
       "I2        13\n",
       "I3        13\n",
       "P_IPO     13\n",
       "P_H       13\n",
       "P_L       13\n",
       "P_1Day    13\n",
       "C1        13\n",
       "C2        13\n",
       "C4        13\n",
       "C7        13\n",
       "C3'       13\n",
       "C5'       13\n",
       "C6'       13\n",
       "T3'       13\n",
       "T4'       13\n",
       "T5'       13\n",
       "S1'       13\n",
       "S2'       13\n",
       "S3'       13\n",
       "Y1        13\n",
       "Y2        13\n",
       "dtype: int64"
      ]
     },
     "execution_count": 48,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes are between 5000 & 5199\n",
    "SIC7 = df_data.loc[(df_data.I3 >= 5000) & (df_data.I3 <= 5199)]\n",
    "SIC7.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 49,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        49\n",
       "I2        49\n",
       "I3        49\n",
       "P_IPO     49\n",
       "P_H       49\n",
       "P_L       49\n",
       "P_1Day    49\n",
       "C1        49\n",
       "C2        49\n",
       "C4        49\n",
       "C7        49\n",
       "C3'       49\n",
       "C5'       49\n",
       "C6'       49\n",
       "T3'       49\n",
       "T4'       49\n",
       "T5'       49\n",
       "S1'       49\n",
       "S2'       49\n",
       "S3'       49\n",
       "Y1        49\n",
       "Y2        49\n",
       "dtype: int64"
      ]
     },
     "execution_count": 49,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes are between 5200 & 5999\n",
    "SIC8 = df_data.loc[(df_data.I3 >= 5200) & (df_data.I3 <= 5999)]\n",
    "SIC8.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        9\n",
       "I2        9\n",
       "I3        9\n",
       "P_IPO     9\n",
       "P_H       9\n",
       "P_L       9\n",
       "P_1Day    9\n",
       "C1        9\n",
       "C2        9\n",
       "C4        9\n",
       "C7        9\n",
       "C3'       9\n",
       "C5'       9\n",
       "C6'       9\n",
       "T3'       9\n",
       "T4'       9\n",
       "T5'       9\n",
       "S1'       9\n",
       "S2'       9\n",
       "S3'       9\n",
       "Y1        9\n",
       "Y2        9\n",
       "dtype: int64"
      ]
     },
     "execution_count": 50,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes are between 6000 & 6799\n",
    "SIC9 = df_data.loc[(df_data.I3 >= 6000) & (df_data.I3 <= 6799)]\n",
    "SIC9.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        205\n",
       "I2        205\n",
       "I3        205\n",
       "P_IPO     205\n",
       "P_H       205\n",
       "P_L       205\n",
       "P_1Day    205\n",
       "C1        205\n",
       "C2        205\n",
       "C4        205\n",
       "C7        205\n",
       "C3'       205\n",
       "C5'       205\n",
       "C6'       205\n",
       "T3'       205\n",
       "T4'       205\n",
       "T5'       205\n",
       "S1'       205\n",
       "S2'       205\n",
       "S3'       205\n",
       "Y1        205\n",
       "Y2        205\n",
       "dtype: int64"
      ]
     },
     "execution_count": 51,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes are between 7000 & 8999\n",
    "SIC10 = df_data.loc[(df_data.I3 >= 7000) & (df_data.I3 <= 8999)]\n",
    "SIC10.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        0\n",
       "I2        0\n",
       "I3        0\n",
       "P_IPO     0\n",
       "P_H       0\n",
       "P_L       0\n",
       "P_1Day    0\n",
       "C1        0\n",
       "C2        0\n",
       "C4        0\n",
       "C7        0\n",
       "C3'       0\n",
       "C5'       0\n",
       "C6'       0\n",
       "T3'       0\n",
       "T4'       0\n",
       "T5'       0\n",
       "S1'       0\n",
       "S2'       0\n",
       "S3'       0\n",
       "Y1        0\n",
       "Y2        0\n",
       "dtype: int64"
      ]
     },
     "execution_count": 52,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes are between 9100 & 9729\n",
    "SIC11 = df_data.loc[(df_data.I3 >= 9100) & (df_data.I3 <= 9729)]\n",
    "SIC11.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "I1        2\n",
       "I2        2\n",
       "I3        2\n",
       "P_IPO     2\n",
       "P_H       2\n",
       "P_L       2\n",
       "P_1Day    2\n",
       "C1        2\n",
       "C2        2\n",
       "C4        2\n",
       "C7        2\n",
       "C3'       2\n",
       "C5'       2\n",
       "C6'       2\n",
       "T3'       2\n",
       "T4'       2\n",
       "T5'       2\n",
       "S1'       2\n",
       "S2'       2\n",
       "S3'       2\n",
       "Y1        2\n",
       "Y2        2\n",
       "dtype: int64"
      ]
     },
     "execution_count": 53,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see how many values are in the SIC Codes greater than or equal to 9900\n",
    "SIC12 = df_data.loc[(df_data.I3 >= 9900)]\n",
    "SIC12.count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 54,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>I1</th>\n",
       "      <th>I2</th>\n",
       "      <th>I3</th>\n",
       "      <th>P_IPO</th>\n",
       "      <th>P_H</th>\n",
       "      <th>P_L</th>\n",
       "      <th>P_1Day</th>\n",
       "      <th>C1</th>\n",
       "      <th>C2</th>\n",
       "      <th>C4</th>\n",
       "      <th>...</th>\n",
       "      <th>C6'</th>\n",
       "      <th>T3'</th>\n",
       "      <th>T4'</th>\n",
       "      <th>T5'</th>\n",
       "      <th>S1'</th>\n",
       "      <th>S2'</th>\n",
       "      <th>S3'</th>\n",
       "      <th>Y1</th>\n",
       "      <th>Y2</th>\n",
       "      <th>I3_Bins</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>AATI</td>\n",
       "      <td>ADVANCED ANALOGIC TECHNOLOGIES INC</td>\n",
       "      <td>3674.0</td>\n",
       "      <td>2.397895</td>\n",
       "      <td>2.351375</td>\n",
       "      <td>2.251292</td>\n",
       "      <td>2.554899</td>\n",
       "      <td>4.812184</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.028660</td>\n",
       "      <td>...</td>\n",
       "      <td>6.803505</td>\n",
       "      <td>0.614244</td>\n",
       "      <td>0.466674</td>\n",
       "      <td>0.047932</td>\n",
       "      <td>0.004706</td>\n",
       "      <td>0.009157</td>\n",
       "      <td>0.010869</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>ABPI</td>\n",
       "      <td>ACCENTIA BIOPHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>2.197225</td>\n",
       "      <td>2.397895</td>\n",
       "      <td>2.197225</td>\n",
       "      <td>2.110213</td>\n",
       "      <td>5.035328</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-0.013442</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.402186</td>\n",
       "      <td>0.302583</td>\n",
       "      <td>0.028254</td>\n",
       "      <td>0.002750</td>\n",
       "      <td>0.011044</td>\n",
       "      <td>0.010817</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>ACAD</td>\n",
       "      <td>ACADIA PHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>2.079442</td>\n",
       "      <td>2.708050</td>\n",
       "      <td>2.564949</td>\n",
       "      <td>2.041220</td>\n",
       "      <td>4.510860</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.020503</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.776228</td>\n",
       "      <td>0.585412</td>\n",
       "      <td>0.065705</td>\n",
       "      <td>0.006504</td>\n",
       "      <td>0.006252</td>\n",
       "      <td>0.011338</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>ACHN</td>\n",
       "      <td>ACHILLION PHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>2.525729</td>\n",
       "      <td>2.833213</td>\n",
       "      <td>2.708050</td>\n",
       "      <td>2.594508</td>\n",
       "      <td>5.347108</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.019825</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.835659</td>\n",
       "      <td>0.616339</td>\n",
       "      <td>0.072892</td>\n",
       "      <td>0.007239</td>\n",
       "      <td>0.007118</td>\n",
       "      <td>0.013231</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>ACLI</td>\n",
       "      <td>AMERICAN COMMERCIAL LINES INC.</td>\n",
       "      <td>4492.0</td>\n",
       "      <td>3.091042</td>\n",
       "      <td>3.091042</td>\n",
       "      <td>2.995732</td>\n",
       "      <td>4.053523</td>\n",
       "      <td>4.394449</td>\n",
       "      <td>1.0</td>\n",
       "      <td>-0.035518</td>\n",
       "      <td>...</td>\n",
       "      <td>7.601402</td>\n",
       "      <td>0.546682</td>\n",
       "      <td>0.397861</td>\n",
       "      <td>0.041248</td>\n",
       "      <td>0.004038</td>\n",
       "      <td>0.009997</td>\n",
       "      <td>0.011198</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 23 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     I1                                  I2      I3     P_IPO       P_H  \\\n",
       "0  AATI  ADVANCED ANALOGIC TECHNOLOGIES INC  3674.0  2.397895  2.351375   \n",
       "1  ABPI     ACCENTIA BIOPHARMACEUTICALS INC  2834.0  2.197225  2.397895   \n",
       "2  ACAD          ACADIA PHARMACEUTICALS INC  2834.0  2.079442  2.708050   \n",
       "3  ACHN       ACHILLION PHARMACEUTICALS INC  2834.0  2.525729  2.833213   \n",
       "4  ACLI     AMERICAN COMMERCIAL LINES INC.   4492.0  3.091042  3.091042   \n",
       "\n",
       "        P_L    P_1Day        C1   C2        C4   ...          C6'       T3'  \\\n",
       "0  2.251292  2.554899  4.812184  1.0  0.028660   ...     6.803505  0.614244   \n",
       "1  2.197225  2.110213  5.035328  0.0 -0.013442   ...     0.000000  0.402186   \n",
       "2  2.564949  2.041220  4.510860  1.0  0.020503   ...     0.000000  0.776228   \n",
       "3  2.708050  2.594508  5.347108  1.0  0.019825   ...     0.000000  0.835659   \n",
       "4  2.995732  4.053523  4.394449  1.0 -0.035518   ...     7.601402  0.546682   \n",
       "\n",
       "        T4'       T5'       S1'       S2'       S3'  Y1  Y2  I3_Bins  \n",
       "0  0.466674  0.047932  0.004706  0.009157  0.010869   0   1        1  \n",
       "1  0.302583  0.028254  0.002750  0.011044  0.010817   1   0        1  \n",
       "2  0.585412  0.065705  0.006504  0.006252  0.011338   1   0        1  \n",
       "3  0.616339  0.072892  0.007239  0.007118  0.013231   1   1        1  \n",
       "4  0.397861  0.041248  0.004038  0.009997  0.011198   0   1        2  \n",
       "\n",
       "[5 rows x 23 columns]"
      ]
     },
     "execution_count": 54,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "## Creating 4 Bins for the data that we have seen based on the SIC Codes\n",
    "### Creating a function that will bin the column \"I3\"\n",
    "def I3_Binning(I3):\n",
    "    if I3 < 2000:\n",
    "        return(0)\n",
    "    if I3 >= 2000 and I3 <= 3999:\n",
    "        return(1)\n",
    "    if I3 >= 4000 and I3 <= 6999:\n",
    "        return(2)\n",
    "    if I3 >= 7000:\n",
    "        return(3)\n",
    "    \n",
    "#### Applying the function \"I3_Binning\"\n",
    "df_data['I3_Bins'] = df_data['I3'].apply(I3_Binning)\n",
    "#### Showing the dataframe to check if the new column has been created\n",
    "df_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 55,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(array([ 35.,   0.,   0., 309.,   0.,   0., 131.,   0.,   0., 207.]),\n",
       " array([0. , 0.3, 0.6, 0.9, 1.2, 1.5, 1.8, 2.1, 2.4, 2.7, 3. ]),\n",
       " <a list of 10 Patch objects>)"
      ]
     },
     "execution_count": 55,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Plotting the new column \"I3_Bins\"\n",
    "plt.hist(df_data.I3_Bins)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>I1</th>\n",
       "      <th>I2</th>\n",
       "      <th>I3</th>\n",
       "      <th>P_IPO</th>\n",
       "      <th>P_H</th>\n",
       "      <th>P_L</th>\n",
       "      <th>P_1Day</th>\n",
       "      <th>C1</th>\n",
       "      <th>C2</th>\n",
       "      <th>C4</th>\n",
       "      <th>...</th>\n",
       "      <th>C6'</th>\n",
       "      <th>T3'</th>\n",
       "      <th>T4'</th>\n",
       "      <th>T5'</th>\n",
       "      <th>S1'</th>\n",
       "      <th>S2'</th>\n",
       "      <th>S3'</th>\n",
       "      <th>Y1</th>\n",
       "      <th>Y2</th>\n",
       "      <th>I3_Bins</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>AATI</td>\n",
       "      <td>ADVANCED ANALOGIC TECHNOLOGIES INC</td>\n",
       "      <td>3674.0</td>\n",
       "      <td>2.397895</td>\n",
       "      <td>2.351375</td>\n",
       "      <td>2.251292</td>\n",
       "      <td>2.554899</td>\n",
       "      <td>4.812184</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.028660</td>\n",
       "      <td>...</td>\n",
       "      <td>6.803505</td>\n",
       "      <td>0.614244</td>\n",
       "      <td>0.466674</td>\n",
       "      <td>0.047932</td>\n",
       "      <td>0.004706</td>\n",
       "      <td>0.009157</td>\n",
       "      <td>0.010869</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>ABPI</td>\n",
       "      <td>ACCENTIA BIOPHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>2.197225</td>\n",
       "      <td>2.397895</td>\n",
       "      <td>2.197225</td>\n",
       "      <td>2.110213</td>\n",
       "      <td>5.035328</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-0.013442</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.402186</td>\n",
       "      <td>0.302583</td>\n",
       "      <td>0.028254</td>\n",
       "      <td>0.002750</td>\n",
       "      <td>0.011044</td>\n",
       "      <td>0.010817</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>ACAD</td>\n",
       "      <td>ACADIA PHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>2.079442</td>\n",
       "      <td>2.708050</td>\n",
       "      <td>2.564949</td>\n",
       "      <td>2.041220</td>\n",
       "      <td>4.510860</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.020503</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.776228</td>\n",
       "      <td>0.585412</td>\n",
       "      <td>0.065705</td>\n",
       "      <td>0.006504</td>\n",
       "      <td>0.006252</td>\n",
       "      <td>0.011338</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>ACHN</td>\n",
       "      <td>ACHILLION PHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>2.525729</td>\n",
       "      <td>2.833213</td>\n",
       "      <td>2.708050</td>\n",
       "      <td>2.594508</td>\n",
       "      <td>5.347108</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.019825</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.835659</td>\n",
       "      <td>0.616339</td>\n",
       "      <td>0.072892</td>\n",
       "      <td>0.007239</td>\n",
       "      <td>0.007118</td>\n",
       "      <td>0.013231</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>ACLI</td>\n",
       "      <td>AMERICAN COMMERCIAL LINES INC.</td>\n",
       "      <td>4492.0</td>\n",
       "      <td>3.091042</td>\n",
       "      <td>3.091042</td>\n",
       "      <td>2.995732</td>\n",
       "      <td>4.053523</td>\n",
       "      <td>4.394449</td>\n",
       "      <td>1.0</td>\n",
       "      <td>-0.035518</td>\n",
       "      <td>...</td>\n",
       "      <td>7.601402</td>\n",
       "      <td>0.546682</td>\n",
       "      <td>0.397861</td>\n",
       "      <td>0.041248</td>\n",
       "      <td>0.004038</td>\n",
       "      <td>0.009997</td>\n",
       "      <td>0.011198</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 23 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     I1                                  I2      I3     P_IPO       P_H  \\\n",
       "0  AATI  ADVANCED ANALOGIC TECHNOLOGIES INC  3674.0  2.397895  2.351375   \n",
       "1  ABPI     ACCENTIA BIOPHARMACEUTICALS INC  2834.0  2.197225  2.397895   \n",
       "2  ACAD          ACADIA PHARMACEUTICALS INC  2834.0  2.079442  2.708050   \n",
       "3  ACHN       ACHILLION PHARMACEUTICALS INC  2834.0  2.525729  2.833213   \n",
       "4  ACLI     AMERICAN COMMERCIAL LINES INC.   4492.0  3.091042  3.091042   \n",
       "\n",
       "        P_L    P_1Day        C1   C2        C4   ...          C6'       T3'  \\\n",
       "0  2.251292  2.554899  4.812184  1.0  0.028660   ...     6.803505  0.614244   \n",
       "1  2.197225  2.110213  5.035328  0.0 -0.013442   ...     0.000000  0.402186   \n",
       "2  2.564949  2.041220  4.510860  1.0  0.020503   ...     0.000000  0.776228   \n",
       "3  2.708050  2.594508  5.347108  1.0  0.019825   ...     0.000000  0.835659   \n",
       "4  2.995732  4.053523  4.394449  1.0 -0.035518   ...     7.601402  0.546682   \n",
       "\n",
       "        T4'       T5'       S1'       S2'       S3'  Y1  Y2  I3_Bins  \n",
       "0  0.466674  0.047932  0.004706  0.009157  0.010869   0   1        1  \n",
       "1  0.302583  0.028254  0.002750  0.011044  0.010817   1   0        1  \n",
       "2  0.585412  0.065705  0.006504  0.006252  0.011338   1   0        1  \n",
       "3  0.616339  0.072892  0.007239  0.007118  0.013231   1   1        1  \n",
       "4  0.397861  0.041248  0.004038  0.009997  0.011198   0   1        2  \n",
       "\n",
       "[5 rows x 23 columns]"
      ]
     },
     "execution_count": 56,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "### Due to the bins `0` and `2`, we have decided to combine them by updating the function \"I3_Binning\"\n",
    "def I3_Binning(I3):\n",
    "    if I3 < 2000:\n",
    "        return(2)\n",
    "    if I3 >= 2000 and I3 <= 3999:\n",
    "        return(1)\n",
    "    if I3 >= 4000 and I3 <= 6999:\n",
    "        return(2)\n",
    "    if I3 >= 7000:\n",
    "        return(3)\n",
    "\n",
    "# Applying the function \"I3_Binning\"\n",
    "df_data['I3_Bins'] = df_data.I3.apply(I3_Binning)\n",
    "# Displaying to check the datafram\n",
    "df_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 57,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(array([309.,   0.,   0.,   0.,   0., 166.,   0.,   0.,   0., 207.]),\n",
       " array([1. , 1.2, 1.4, 1.6, 1.8, 2. , 2.2, 2.4, 2.6, 2.8, 3. ]),\n",
       " <a list of 10 Patch objects>)"
      ]
     },
     "execution_count": 57,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Plotting the bins that we created\n",
    "\n",
    "plt.hist(df_data['I3_Bins'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>I1</th>\n",
       "      <th>I2</th>\n",
       "      <th>I3</th>\n",
       "      <th>P_IPO</th>\n",
       "      <th>P_H</th>\n",
       "      <th>P_L</th>\n",
       "      <th>P_1Day</th>\n",
       "      <th>C1</th>\n",
       "      <th>C2</th>\n",
       "      <th>C4</th>\n",
       "      <th>...</th>\n",
       "      <th>C6'</th>\n",
       "      <th>T3'</th>\n",
       "      <th>T4'</th>\n",
       "      <th>T5'</th>\n",
       "      <th>S1'</th>\n",
       "      <th>S2'</th>\n",
       "      <th>S3'</th>\n",
       "      <th>Y1</th>\n",
       "      <th>Y2</th>\n",
       "      <th>I3_Bins</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>AATI</td>\n",
       "      <td>ADVANCED ANALOGIC TECHNOLOGIES INC</td>\n",
       "      <td>3674.0</td>\n",
       "      <td>2.397895</td>\n",
       "      <td>2.351375</td>\n",
       "      <td>2.251292</td>\n",
       "      <td>2.554899</td>\n",
       "      <td>4.812184</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.028660</td>\n",
       "      <td>...</td>\n",
       "      <td>6.803505</td>\n",
       "      <td>0.614244</td>\n",
       "      <td>0.466674</td>\n",
       "      <td>0.047932</td>\n",
       "      <td>0.004706</td>\n",
       "      <td>0.009157</td>\n",
       "      <td>0.010869</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>ABPI</td>\n",
       "      <td>ACCENTIA BIOPHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>2.197225</td>\n",
       "      <td>2.397895</td>\n",
       "      <td>2.197225</td>\n",
       "      <td>2.110213</td>\n",
       "      <td>5.035328</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-0.013442</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.402186</td>\n",
       "      <td>0.302583</td>\n",
       "      <td>0.028254</td>\n",
       "      <td>0.002750</td>\n",
       "      <td>0.011044</td>\n",
       "      <td>0.010817</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>ACAD</td>\n",
       "      <td>ACADIA PHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>2.079442</td>\n",
       "      <td>2.708050</td>\n",
       "      <td>2.564949</td>\n",
       "      <td>2.041220</td>\n",
       "      <td>4.510860</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.020503</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.776228</td>\n",
       "      <td>0.585412</td>\n",
       "      <td>0.065705</td>\n",
       "      <td>0.006504</td>\n",
       "      <td>0.006252</td>\n",
       "      <td>0.011338</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>ACHN</td>\n",
       "      <td>ACHILLION PHARMACEUTICALS INC</td>\n",
       "      <td>2834.0</td>\n",
       "      <td>2.525729</td>\n",
       "      <td>2.833213</td>\n",
       "      <td>2.708050</td>\n",
       "      <td>2.594508</td>\n",
       "      <td>5.347108</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.019825</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.835659</td>\n",
       "      <td>0.616339</td>\n",
       "      <td>0.072892</td>\n",
       "      <td>0.007239</td>\n",
       "      <td>0.007118</td>\n",
       "      <td>0.013231</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>ACLI</td>\n",
       "      <td>AMERICAN COMMERCIAL LINES INC.</td>\n",
       "      <td>4492.0</td>\n",
       "      <td>3.091042</td>\n",
       "      <td>3.091042</td>\n",
       "      <td>2.995732</td>\n",
       "      <td>4.053523</td>\n",
       "      <td>4.394449</td>\n",
       "      <td>1.0</td>\n",
       "      <td>-0.035518</td>\n",
       "      <td>...</td>\n",
       "      <td>7.601402</td>\n",
       "      <td>0.546682</td>\n",
       "      <td>0.397861</td>\n",
       "      <td>0.041248</td>\n",
       "      <td>0.004038</td>\n",
       "      <td>0.009997</td>\n",
       "      <td>0.011198</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 23 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     I1                                  I2      I3     P_IPO       P_H  \\\n",
       "0  AATI  ADVANCED ANALOGIC TECHNOLOGIES INC  3674.0  2.397895  2.351375   \n",
       "1  ABPI     ACCENTIA BIOPHARMACEUTICALS INC  2834.0  2.197225  2.397895   \n",
       "2  ACAD          ACADIA PHARMACEUTICALS INC  2834.0  2.079442  2.708050   \n",
       "3  ACHN       ACHILLION PHARMACEUTICALS INC  2834.0  2.525729  2.833213   \n",
       "4  ACLI     AMERICAN COMMERCIAL LINES INC.   4492.0  3.091042  3.091042   \n",
       "\n",
       "        P_L    P_1Day        C1   C2        C4   ...          C6'       T3'  \\\n",
       "0  2.251292  2.554899  4.812184  1.0  0.028660   ...     6.803505  0.614244   \n",
       "1  2.197225  2.110213  5.035328  0.0 -0.013442   ...     0.000000  0.402186   \n",
       "2  2.564949  2.041220  4.510860  1.0  0.020503   ...     0.000000  0.776228   \n",
       "3  2.708050  2.594508  5.347108  1.0  0.019825   ...     0.000000  0.835659   \n",
       "4  2.995732  4.053523  4.394449  1.0 -0.035518   ...     7.601402  0.546682   \n",
       "\n",
       "        T4'       T5'       S1'       S2'       S3'  Y1  Y2  I3_Bins  \n",
       "0  0.466674  0.047932  0.004706  0.009157  0.010869   0   1        1  \n",
       "1  0.302583  0.028254  0.002750  0.011044  0.010817   1   0        1  \n",
       "2  0.585412  0.065705  0.006504  0.006252  0.011338   1   0        1  \n",
       "3  0.616339  0.072892  0.007239  0.007118  0.013231   1   1        1  \n",
       "4  0.397861  0.041248  0.004038  0.009997  0.011198   0   1        2  \n",
       "\n",
       "[5 rows x 23 columns]"
      ]
     },
     "execution_count": 58,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Displaying the head of the dataframe\n",
    "df_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 59,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "     I1                                  I2      I3     P_IPO       P_H  \\\n",
      "0  AATI  ADVANCED ANALOGIC TECHNOLOGIES INC  3674.0  2.397895  2.351375   \n",
      "1  ABPI     ACCENTIA BIOPHARMACEUTICALS INC  2834.0  2.197225  2.397895   \n",
      "\n",
      "        P_L    P_1Day  Y1  Y2  \n",
      "0  2.251292  2.554899   0   1  \n",
      "1  2.197225  2.110213   1   0  \n"
     ]
    }
   ],
   "source": [
    "# Creating target variables to use to concatinate into a dataframe\n",
    "target1 = df_data.iloc[:,:7]\n",
    "target2 = df_data.iloc[:,20:22]\n",
    "\n",
    "# Creating the \"Targets_MinMax\" variable/dataframe\n",
    "Targets_MinMax = pd.concat([target1,target2],axis=1,join_axes=[df_data.index])\n",
    "print(Targets_MinMax.head(2))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 60,
   "metadata": {},
   "outputs": [],
   "source": [
    "#### ALREADY SAVED THIS, DO NOT HAVE TO SAVE EVERY TIME\n",
    "# Saving the Targets_MinMax to a .csv file for future use\n",
    "# Targets_MinMax.to_csv(\"Targets_MinMax\", \",\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Correlation Analysis ##\n",
    "\n",
    "The correlation analysis should be done before doing the RFE (Recursive Feature Extraction) because it helps remove highly correlated features that could result in the RFE model being biased towards those features."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 61,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "               I3     P_IPO       P_H       P_L    P_1Day        C1        C2  \\\n",
      "I3       1.000000  0.099088  0.005486  0.004021  0.074290  0.057213 -0.040476   \n",
      "P_IPO    0.099088  1.000000  0.799302  0.800787  0.644600 -0.067441  0.267550   \n",
      "P_H      0.005486  0.799302  1.000000  0.996201  0.444134 -0.054105  0.281331   \n",
      "P_L      0.004021  0.800787  0.996201  1.000000  0.446602 -0.052103  0.292272   \n",
      "P_1Day   0.074290  0.644600  0.444134  0.446602  1.000000 -0.027377  0.234564   \n",
      "C1       0.057213 -0.067441 -0.054105 -0.052103 -0.027377  1.000000  0.003051   \n",
      "C2      -0.040476  0.267550  0.281331  0.292272  0.234564  0.003051  1.000000   \n",
      "C4      -0.039076 -0.001856 -0.039367 -0.043298  0.003284  0.108412 -0.031654   \n",
      "C7       0.022611  0.308062  0.420955  0.420373  0.132236  0.048712  0.169323   \n",
      "C3'      0.108454  0.158533  0.143288  0.149272  0.034618  0.001202  0.010506   \n",
      "C5'      0.056486  0.024010 -0.014529 -0.016765  0.086564 -0.009599  0.150657   \n",
      "C6'      0.086686  0.628851  0.253026  0.257217  0.509753 -0.078051  0.132240   \n",
      "T3'     -0.127503 -0.242225 -0.281798 -0.286782 -0.111304 -0.112408 -0.208909   \n",
      "T4'     -0.129706 -0.269425 -0.298156 -0.302148 -0.106637 -0.108278 -0.219284   \n",
      "T5'     -0.127503 -0.242225 -0.281798 -0.286782 -0.111304 -0.112408 -0.208909   \n",
      "S1'     -0.127503 -0.242225 -0.281798 -0.286782 -0.111304 -0.112408 -0.208909   \n",
      "S2'     -0.151449  0.034355  0.110308  0.112856 -0.019336  0.038412  0.018632   \n",
      "S3'     -0.152466 -0.089064 -0.089944 -0.095422  0.006004 -0.046957  0.016494   \n",
      "Y1      -0.097887 -0.516461 -0.078216 -0.077312 -0.434667  0.054003 -0.064492   \n",
      "Y2       0.101717  0.009602 -0.103465 -0.105929  0.428875 -0.010010  0.067018   \n",
      "I3_Bins  0.826255  0.157652  0.110626  0.107024  0.068824  0.122187 -0.040541   \n",
      "I3       1.000000  0.099088  0.005486  0.004021  0.074290  0.057213 -0.040476   \n",
      "P_IPO    0.099088  1.000000  0.799302  0.800787  0.644600 -0.067441  0.267550   \n",
      "P_H      0.005486  0.799302  1.000000  0.996201  0.444134 -0.054105  0.281331   \n",
      "P_L      0.004021  0.800787  0.996201  1.000000  0.446602 -0.052103  0.292272   \n",
      "P_1Day   0.074290  0.644600  0.444134  0.446602  1.000000 -0.027377  0.234564   \n",
      "Y1      -0.097887 -0.516461 -0.078216 -0.077312 -0.434667  0.054003 -0.064492   \n",
      "Y2       0.101717  0.009602 -0.103465 -0.105929  0.428875 -0.010010  0.067018   \n",
      "\n",
      "               C4        C7       C3'    ...           Y1        Y2   I3_Bins  \\\n",
      "I3      -0.039076  0.022611  0.108454    ...    -0.097887  0.101717  0.826255   \n",
      "P_IPO   -0.001856  0.308062  0.158533    ...    -0.516461  0.009602  0.157652   \n",
      "P_H     -0.039367  0.420955  0.143288    ...    -0.078216 -0.103465  0.110626   \n",
      "P_L     -0.043298  0.420373  0.149272    ...    -0.077312 -0.105929  0.107024   \n",
      "P_1Day   0.003284  0.132236  0.034618    ...    -0.434667  0.428875  0.068824   \n",
      "C1       0.108412  0.048712  0.001202    ...     0.054003 -0.010010  0.122187   \n",
      "C2      -0.031654  0.169323  0.010506    ...    -0.064492  0.067018 -0.040541   \n",
      "C4       1.000000  0.009119 -0.024635    ...    -0.071120  0.100712 -0.009956   \n",
      "C7       0.009119  1.000000  0.284203    ...    -0.004694 -0.069477  0.074339   \n",
      "C3'     -0.024635  0.284203  1.000000    ...    -0.089353  0.012719  0.182806   \n",
      "C5'     -0.049392 -0.044239 -0.006678    ...    -0.055910  0.061456  0.007827   \n",
      "C6'      0.062535  0.045199  0.154172    ...    -0.765380  0.219352  0.079791   \n",
      "T3'     -0.006331 -0.240765 -0.070924    ...    -0.014974  0.043156 -0.172696   \n",
      "T4'      0.007011 -0.242345 -0.089122    ...    -0.008858  0.059984 -0.185561   \n",
      "T5'     -0.006331 -0.240765 -0.070924    ...    -0.014974  0.043156 -0.172696   \n",
      "S1'     -0.006331 -0.240765 -0.070924    ...    -0.014974  0.043156 -0.172696   \n",
      "S2'      0.000776  0.160516 -0.044645    ...     0.174124 -0.115247 -0.143867   \n",
      "S3'      0.043145 -0.050341 -0.105135    ...     0.066210  0.055606 -0.164332   \n",
      "Y1      -0.071120 -0.004694 -0.089353    ...     1.000000 -0.223612 -0.066710   \n",
      "Y2       0.100712 -0.069477  0.012719    ...    -0.223612  1.000000  0.012175   \n",
      "I3_Bins -0.009956  0.074339  0.182806    ...    -0.066710  0.012175  1.000000   \n",
      "I3      -0.039076  0.022611  0.108454    ...    -0.097887  0.101717  0.826255   \n",
      "P_IPO   -0.001856  0.308062  0.158533    ...    -0.516461  0.009602  0.157652   \n",
      "P_H     -0.039367  0.420955  0.143288    ...    -0.078216 -0.103465  0.110626   \n",
      "P_L     -0.043298  0.420373  0.149272    ...    -0.077312 -0.105929  0.107024   \n",
      "P_1Day   0.003284  0.132236  0.034618    ...    -0.434667  0.428875  0.068824   \n",
      "Y1      -0.071120 -0.004694 -0.089353    ...     1.000000 -0.223612 -0.066710   \n",
      "Y2       0.100712 -0.069477  0.012719    ...    -0.223612  1.000000  0.012175   \n",
      "\n",
      "               I3     P_IPO       P_H       P_L    P_1Day        Y1        Y2  \n",
      "I3       1.000000  0.099088  0.005486  0.004021  0.074290 -0.097887  0.101717  \n",
      "P_IPO    0.099088  1.000000  0.799302  0.800787  0.644600 -0.516461  0.009602  \n",
      "P_H      0.005486  0.799302  1.000000  0.996201  0.444134 -0.078216 -0.103465  \n",
      "P_L      0.004021  0.800787  0.996201  1.000000  0.446602 -0.077312 -0.105929  \n",
      "P_1Day   0.074290  0.644600  0.444134  0.446602  1.000000 -0.434667  0.428875  \n",
      "C1       0.057213 -0.067441 -0.054105 -0.052103 -0.027377  0.054003 -0.010010  \n",
      "C2      -0.040476  0.267550  0.281331  0.292272  0.234564 -0.064492  0.067018  \n",
      "C4      -0.039076 -0.001856 -0.039367 -0.043298  0.003284 -0.071120  0.100712  \n",
      "C7       0.022611  0.308062  0.420955  0.420373  0.132236 -0.004694 -0.069477  \n",
      "C3'      0.108454  0.158533  0.143288  0.149272  0.034618 -0.089353  0.012719  \n",
      "C5'      0.056486  0.024010 -0.014529 -0.016765  0.086564 -0.055910  0.061456  \n",
      "C6'      0.086686  0.628851  0.253026  0.257217  0.509753 -0.765380  0.219352  \n",
      "T3'     -0.127503 -0.242225 -0.281798 -0.286782 -0.111304 -0.014974  0.043156  \n",
      "T4'     -0.129706 -0.269425 -0.298156 -0.302148 -0.106637 -0.008858  0.059984  \n",
      "T5'     -0.127503 -0.242225 -0.281798 -0.286782 -0.111304 -0.014974  0.043156  \n",
      "S1'     -0.127503 -0.242225 -0.281798 -0.286782 -0.111304 -0.014974  0.043156  \n",
      "S2'     -0.151449  0.034355  0.110308  0.112856 -0.019336  0.174124 -0.115247  \n",
      "S3'     -0.152466 -0.089064 -0.089944 -0.095422  0.006004  0.066210  0.055606  \n",
      "Y1      -0.097887 -0.516461 -0.078216 -0.077312 -0.434667  1.000000 -0.223612  \n",
      "Y2       0.101717  0.009602 -0.103465 -0.105929  0.428875 -0.223612  1.000000  \n",
      "I3_Bins  0.826255  0.157652  0.110626  0.107024  0.068824 -0.066710  0.012175  \n",
      "I3       1.000000  0.099088  0.005486  0.004021  0.074290 -0.097887  0.101717  \n",
      "P_IPO    0.099088  1.000000  0.799302  0.800787  0.644600 -0.516461  0.009602  \n",
      "P_H      0.005486  0.799302  1.000000  0.996201  0.444134 -0.078216 -0.103465  \n",
      "P_L      0.004021  0.800787  0.996201  1.000000  0.446602 -0.077312 -0.105929  \n",
      "P_1Day   0.074290  0.644600  0.444134  0.446602  1.000000 -0.434667  0.428875  \n",
      "Y1      -0.097887 -0.516461 -0.078216 -0.077312 -0.434667  1.000000 -0.223612  \n",
      "Y2       0.101717  0.009602 -0.103465 -0.105929  0.428875 -0.223612  1.000000  \n",
      "\n",
      "[28 rows x 28 columns]\n"
     ]
    }
   ],
   "source": [
    "# Beginning correlation analysis\n",
    "correlation_df = df_data\n",
    "targets = Targets_MinMax\n",
    "correlation = pd.concat([correlation_df, targets], axis=1, join_axes=[correlation_df.index])\n",
    "\n",
    "print(correlation.corr(method='spearman'))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 80,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.axes._subplots.AxesSubplot at 0x7f856008da58>"
      ]
     },
     "execution_count": 80,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 792x648 with 2 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "from pandas.plotting import scatter_matrix\n",
    "\n",
    "# Visualizing a Correlation Matrix\n",
    "correlation_visual = correlation.corr(method='spearman')\n",
    "\n",
    "# Have to generate a mask(hide) for the upper triangle\n",
    "hide = np.zeros_like(correlation_visual, dtype=np.bool)\n",
    "hide[np.triu_indices_from(hide)] = True\n",
    "\n",
    "# Setting the subplot for the correlation matrix\n",
    "f , ax = plt.subplots(figsize=(11,9))\n",
    "\n",
    "# Generating a diverging colormap\n",
    "cmap = sns.diverging_palette(100, 200, as_cmap=True)\n",
    "\n",
    "# Adding the heatmap\n",
    "sns.heatmap(correlation_visual, mask=hide, cmap=cmap, vmin=-1,vmax=1, center=0, square=True, linewidths=.6, cbar_kws={\"shrink\": .5})"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 76,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Y1</th>\n",
       "      <th>Y1</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>I3</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_IPO</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_H</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_L</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_1Day</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C1</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C2</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C4</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C7</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C3'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C5'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C6'</th>\n",
       "      <td>True</td>\n",
       "      <td>True</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>T3'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>T4'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>T5'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>S1'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>S2'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>S3'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Y1</th>\n",
       "      <td>True</td>\n",
       "      <td>True</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Y2</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>I3_Bins</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>I3</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_IPO</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_H</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_L</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_1Day</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Y1</th>\n",
       "      <td>True</td>\n",
       "      <td>True</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Y2</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "            Y1     Y1\n",
       "I3       False  False\n",
       "P_IPO    False  False\n",
       "P_H      False  False\n",
       "P_L      False  False\n",
       "P_1Day   False  False\n",
       "C1       False  False\n",
       "C2       False  False\n",
       "C4       False  False\n",
       "C7       False  False\n",
       "C3'      False  False\n",
       "C5'      False  False\n",
       "C6'       True   True\n",
       "T3'      False  False\n",
       "T4'      False  False\n",
       "T5'      False  False\n",
       "S1'      False  False\n",
       "S2'      False  False\n",
       "S3'      False  False\n",
       "Y1        True   True\n",
       "Y2       False  False\n",
       "I3_Bins  False  False\n",
       "I3       False  False\n",
       "P_IPO    False  False\n",
       "P_H      False  False\n",
       "P_L      False  False\n",
       "P_1Day   False  False\n",
       "Y1        True   True\n",
       "Y2       False  False"
      ]
     },
     "execution_count": 76,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see if there are any features that are highly correlated with the target variables\n",
    "\n",
    "y1 = correlation.corr()['Y1'] > 0.5\n",
    "y2 = correlation.corr()['Y1'] < -0.5\n",
    "\n",
    "# Printing the 'logical OR' with the 2 variables\n",
    "y1 | y2"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 78,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Y2</th>\n",
       "      <th>Y2</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>I3</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_IPO</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_H</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_L</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_1Day</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C1</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C2</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C4</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C7</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C3'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C5'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C6'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>T3'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>T4'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>T5'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>S1'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>S2'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>S3'</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Y1</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Y2</th>\n",
       "      <td>True</td>\n",
       "      <td>True</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>I3_Bins</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>I3</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_IPO</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_H</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_L</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>P_1Day</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Y1</th>\n",
       "      <td>False</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Y2</th>\n",
       "      <td>True</td>\n",
       "      <td>True</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "            Y2     Y2\n",
       "I3       False  False\n",
       "P_IPO    False  False\n",
       "P_H      False  False\n",
       "P_L      False  False\n",
       "P_1Day   False  False\n",
       "C1       False  False\n",
       "C2       False  False\n",
       "C4       False  False\n",
       "C7       False  False\n",
       "C3'      False  False\n",
       "C5'      False  False\n",
       "C6'      False  False\n",
       "T3'      False  False\n",
       "T4'      False  False\n",
       "T5'      False  False\n",
       "S1'      False  False\n",
       "S2'      False  False\n",
       "S3'      False  False\n",
       "Y1       False  False\n",
       "Y2        True   True\n",
       "I3_Bins  False  False\n",
       "I3       False  False\n",
       "P_IPO    False  False\n",
       "P_H      False  False\n",
       "P_L      False  False\n",
       "P_1Day   False  False\n",
       "Y1       False  False\n",
       "Y2        True   True"
      ]
     },
     "execution_count": 78,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Checking to see if there are any features that are highly correlated with the target variables\n",
    "\n",
    "y1 = correlation.corr()['Y2'] > 0.5\n",
    "y2 = correlation.corr()['Y2'] < -0.5\n",
    "\n",
    "# Printing the 'logical OR'\n",
    "y1 | y2"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## RFE: Recursive Feature Extraction ## "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Important useful packages for RFE\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
